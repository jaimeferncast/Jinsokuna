{"version":3,"sources":["components/theme/index.js","service/theme.service.js","ThemeContext.js","components/shared/CustomButton.js","components/layout/DropDownMenu.js","service/menu.service.js","utils/index.js","components/layout/ThemeSelection.js","service/auth.service.js","components/layout/Navigation.js","components/pages/Editor/Orders/Orders.js","components/pages/Editor/EditMenu/MenuForm.js","components/pages/Menu/Menu.js","components/pages/Editor/EditMenu/CarteEditor/Product.js","components/pages/Editor/EditMenu/CarteEditor/Category.js","components/pages/Editor/EditMenu/CarteEditor/ProductTooltip.js","components/shared/DialogSelect.js","components/shared/Spinner.js","components/pages/Editor/EditMenu/shared/ProductForm.js","components/pages/Editor/EditMenu/shared/CategoryForm.js","components/pages/Editor/EditMenu/shared/SubNavigation.js","components/shared/SnackbarAlert.js","components/pages/Editor/EditMenu/CarteEditor/CarteEditor.js","components/pages/Editor/EditMenu/MenuEditor/MenuProduct.js","components/pages/Editor/EditMenu/MenuEditor/MenuProductForm.js","components/pages/Editor/EditMenu/MenuEditor/MenuCategory.js","components/pages/Editor/EditMenu/MenuEditor/IsMenuProducts.js","components/pages/Editor/EditMenu/MenuEditor/MenuEditor.js","components/pages/Editor/EditMenu/EditMenu.js","components/pages/Editor/EditUsers/EditUsers.js","components/pages/Editor/EditorIndex.js","components/pages/Login/Login.js","components/pages/OrderApp/Intro/Hello.js","components/pages/OrderApp/Intro/index.js","components/pages/OrderApp/OrderableMenu/index.js","service/order.service.js","components/pages/OrderApp/OrderApp.js","components/routes/Routes.js","components/App.js","index.js"],"names":["theme","palette","avispa","type","dark","light","secondary","main","primary","sobrio","tierra","cactus","healthy","marino","font","abril","arial","anaheim","cormorant","cutive","elite","muli","parisienne","poiret","righteous","shadows","trebuchet","verdana","ThemeService","getPalettes","api","get","updatePalette","name","put","getFonts","updateFont","this","axios","create","baseURL","process","withCredentials","ThemeContext","createContext","CustomThemeProvider","state","themeService","componentDidMount","a","data","message","setState","changePalette","then","catch","err","alert","changeFont","children","props","Provider","value","Component","StyledButton","styled","Button","variant","width","color","CustomButton","useContext","DropDownContainer","Grid","DropDown","Menu","withRouter","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","item","IconButton","edge","onClick","event","currentTarget","keepMounted","onClose","MenuItem","to","location","pathname","logoutUser","MenuService","getMenus","addMenu","menuData","post","deleteMenu","id","delete","updateMenu","getCategories","addCategory","categoryData","deleteCategory","updateCategory","getProducts","getMenuProducts","addProduct","productData","deleteProduct","updateProduct","capitalizeTheFirstLetterOfEachWord","words","notCapitalized","separateWord","toLowerCase","split","i","length","includes","charAt","toUpperCase","substring","join","findCategoryIndex","menuService","products","productsInCategory","filter","prod","categories","some","cat","saveChanges","error","category","product","Promise","all","map","_id","categry","severity","vertical","filterIsMenuProductInMenu","menu","InMenuProducts","menuContent","flat","elm","Container","display","ThemeSelection","paletteName","fontName","palettes","Object","entries","key","push","fonts","handleChange","target","container","justify","wrap","FormControl","size","className","InputLabel","Select","onChange","label","style","background","fontFamily","AuthService","login","userData","logout","isLoggedIn","Navbar","AppBar","ItemsContainer","div","LogosContainer","LogoOne","RoomServiceIcon","LogoTwo","PhonelinkRingIcon","Navigation","authService","storeUser","undefined","mobile","window","screen","context","Toolbar","alignItems","isMenuSelected","contextType","Orders","Typography","align","StyledForm","form","MenuForm","setName","submit","e","onSubmit","autoComplete","TextField","fullWidth","autoFocus","startIcon","gutterBottom","justifyContent","close","isDragging","Product","showProductInfo","showProductTooltip","hideProductInfo","hideProductTooltip","showConfirmationMessage","index","draggableId","provided","snapshot","draggableProps","dragHandleProps","ref","innerRef","onMouseEnter","onMouseLeave","noWrap","whiteSpace","minWidth","padding","openProductForm","endIcon","CategoryContainer","TitleGrid","Title","TitleInput","ProductList","isDraggingOver","AddButtonContainer","Category","toggleInput","showCategoryInput","addEventListener","handleClick","handleEnter","inputSubmit","handleInputChange","removeEventListener","editCategory","componentDidUpdate","prevProps","prevState","xs","marginRight","marginBottom","description","slice","Divider","margin","zIndex","droppableId","droppableProps","sort","b","find","placeholder","Tooltip","menuDescription","Text","ProductTooltip","allergies","arr","price","fontSize","fontWeight","subDescription","subPrice","minPortions","CustomDialog","Dialog","CustomForm","CustomFormControl","DialogSelect","setOpen","setMenu","setCategory","disabled","disableBackdropClick","DialogTitle","DialogContent","htmlFor","input","Input","otherMenus","otherCategories","inMenu","FormHelperText","DialogActions","marginLeft","CustomCircularProgress","CircularProgress","Spinner","thickness","StyledBackdrop","Backdrop","ProductModal","Modal","Form","DeletePrice","PriceGrid","PriceSubcontainer","MinPortions","ProductForm","showSpinner","handleCheckboxChange","checked","splice","findIndex","handlePriceChange","addPrice","showAlert","deletePrice","changeIsMenuProduct","isMenuProduct","submitForm","closeAfterTransition","BackdropComponent","BackdropProps","timeout","Fade","in","required","height","FormLabel","component","backgroundColor","sm","helperText","InputProps","startAdornment","InputAdornment","position","marginTop","multiline","outline","outlineOffset","outlineColor","outlineWidth","FormGroup","row","paddingLeft","FormControlLabel","control","Checkbox","CategoryForm","spacing","SubButton","SubNavigation","previewMenu","goBack","Veil","StyledAlert","Alert","SnackbarAlert","Snackbar","anchorOrigin","closeAlert","action","MenuFormFieldContainer","MenuTitleContainer","margintop","fontStyle","InnerList","PureComponent","CarteEditor","menuCategories","onDragEnd","result","destination","source","newCategories","src","dest","forEach","updateDBWithChanges","newProducts","every","newSourceProducts","newDestinationProducts","closeProductForm","toggleMenuInput","showMenuInput","MenuInputSubmit","handleMenuInputChange","editMenu","productsInDeletedCategory","ProductsToUpdate","ProductsToDelete","otherProducts","idx","deletedCategory","preventDefault","newCategory","deletedProduct","sameCategoryProducts","concat","openModal","modalProduct","productFormKey","submitProductForm","lastPrice","newProduct","tooltipProduct","closePreview","deselectMenu","paddingRight","horizontal","MenuProduct","removeProduct","categoryIndex","FormContainer","MenuProductForm","addMenuProduct","CheckBox","MenuCategory","checkboxName","categoryName","categoryDescription","canSelectProducts","determinesPrice","IsMenuProducts","isMenuProducts","DroppableContainer","PriceContainer","SinglePriceContainer","MenuEditor","isMenu","updateDB","destinationIndex","destinationProducts","sourceIndex","sourceProducts","editMenuProduct","JSON","parse","stringify","determinesPriceChange","prevCategory","priceIndex","productIndex","res","removeProductFromMenus","updatedProduct","updateDBWithMenuProduct","deleteMenuProduct","MenusContainer","CustomHr","EditMenu","menus","menuProducts","selectMenu","selectedMenuProduct","selectedMenu","newMenu","updatedMenu","categoriesInDeletedMenu","productsInDeletedMenu","deletedMenu","createdAt","EditUsers","Main","EditorIndex","isSelected","Login","handleSubmit","response","history","console","username","password","showTitle","setShowTitle","showQuestion","setShowQuestion","useEffect","titleTimer","setTimeout","questionTimer","clearTimeout","order","Intro","vantaEffect","setVantaEffect","vantaTopology","useRef","TOPOLOGY","el","current","mouseControls","touchControls","gyroControls","scale","scaleMobile","destroy","OrderService","getOrder","table","OrderApp","orderService","search","orderWithMobile","wantsToOrder","OrderableMenu","Routes","loggedUser","path","render","exact","role","App","fetchUser","createMuiTheme","typography","ThemeProvider","CssBaseline","user","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db89fe2b.chunk.js","sourcesContent":["\nconst theme = {\n  palette: {\n    avispa: {\n      type: 'dark',\n      dark: '#202020',\n      light: '#707070',\n      secondary: { main: '#3f3f3f' },\n      primary: { main: '#ffdf6c' },\n    },\n    sobrio: {\n      type: 'dark',\n      dark: '#2a2929',\n      light: '#ffffff',\n      secondary: { main: '#7f7d7e' },\n      primary: { main: '#d8705c' },\n    },\n    tierra: {\n      dark: '#cc9b6d',\n      light: '#f1ca89',\n      secondary: { main: '#f2dac3' },\n      primary: { main: '#5d84a6' },\n    },\n    cactus: {\n      type: 'dark',\n      dark: '#164a41',\n      light: '#9dc88d',\n      secondary: { main: '#4d774e' },\n      primary: { main: '#f1b24a' },\n    },\n    healthy: {\n      dark: '#ddaf94',\n      light: '#e8cebf',\n      secondary: { main: '#fdf8f5' },\n      primary: { main: '#266150' },\n    },\n    marino: {\n      type: 'dark',\n      dark: '#12232e',\n      light: '#4da8da',\n      secondary: { main: '#203647' },\n      primary: { main: '#007cc7' },\n    },\n  },\n  font: {\n    abril: 'Abril Fatface',\n    arial: 'arial',\n    anaheim: 'Anaheim',\n    cormorant: 'Cormorant Garamond',\n    cutive: 'Cutive Mono',\n    elite: 'Special Elite',\n    muli: 'Muli',\n    parisienne: 'Parisienne',\n    poiret: 'Poiret One',\n    righteous: 'Righteous',\n    shadows: 'Shadows Into Light Two',\n    trebuchet: 'Trebuchet MS',\n    verdana: 'verdana',\n  },\n}\n\nexport default theme","import axios from 'axios'\n\nclass ThemeService {\n\n    constructor() {\n        this.api = axios.create({\n            baseURL: process.env.REACT_APP_API_URL + \"/themes/\",\n            withCredentials: true\n        })\n    }\n    getPalettes = () => this.api.get('palettes/')\n    updatePalette = (name) => this.api.put(`palettes/${name}`)\n    getFonts = () => this.api.get('fonts/')\n    updateFont = (name) => this.api.put(`fonts/${name}`)\n}\n\nexport default ThemeService\n","import { Component, createContext } from \"react\"\n\nimport theme from \"./components/theme\"\n\nimport ThemeService from \"./service/theme.service\"\n\nconst ThemeContext = createContext()\n\nclass CustomThemeProvider extends Component {\n\n  state = {\n    palette: \"\",\n    font: \"\",\n  }\n\n  themeService = new ThemeService()\n\n  componentDidMount = async () => {\n    const [palette] = (await this.themeService.getPalettes()).data.message\n    const [font] = (await this.themeService.getFonts()).data.message\n    this.setState({ palette: palette.name, font: font.name })\n  }\n\n  changePalette = (palette) => {\n    this.themeService.updatePalette(palette)\n      .then(() => this.setState({ palette }))\n      .catch((err) => alert(err))\n  }\n\n  changeFont = (font) => {\n    this.themeService.updateFont(font)\n      .then(() => this.setState({ font }))\n      .catch((err) => alert(err))\n  }\n\n  render() {\n    const { children } = this.props\n    const { palette, font } = this.state\n    const { changePalette, changeFont } = this\n\n    return (\n      (this.state.palette && this.state.font) &&\n      <ThemeContext.Provider value={{\n        theme: theme,\n        palette: theme.palette[palette],\n        font: theme.font[font],\n        changePalette,\n        changeFont,\n      }}>\n        {children}\n      </ThemeContext.Provider>\n    )\n  }\n}\n\nexport default ThemeContext\n\nexport { CustomThemeProvider }\n","import { useContext } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Button } from \"@material-ui/core\"\n\nimport ThemeContext from \"../../ThemeContext\"\n\nconst StyledButton = styled(Button)`\n  font-family: arial;\n  border: 2px solid ${props => props.variant === \"outlined\"\n    ? props.palette.primary.main\n    : \"rgba(0,0,0,0)\"};\n  padding: 5px 15px;\n  ${props => props.width && \"width: \" + props.width + \";\"};\n  ${props => props.color && \"color: \" + props.color + \";\"};\n`\n\nfunction CustomButton(props) {\n  const { palette } = useContext(ThemeContext)\n\n  return (\n    <StyledButton palette={palette} {...props}>\n      {props.children}\n    </StyledButton>\n  )\n}\n\nexport default CustomButton","import { useState, useContext } from \"react\"\nimport { Link, withRouter } from \"react-router-dom\"\n\nimport styled from \"styled-components\"\n\nimport { IconButton, Menu, MenuItem, Grid } from \"@material-ui/core\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\n\nimport ThemeContext from \"../../ThemeContext\"\nimport CustomButton from \"../shared/CustomButton\"\n\nconst DropDownContainer = styled(Grid)`\n  display: none;\n  @media (max-width: 1067px) {\n    display: block;\n  }\n`\nconst DropDown = styled(Menu)`\n  & .MuiPopover-paper {\n    border: 1px solid #767676;\n    background-color: ${props => props.palette.dark};\n  }\n  & a {\n    text-decoration: none;\n  }\n`\n\nfunction DropDownMenu(props) {\n  const { palette } = useContext(ThemeContext)\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const open = Boolean(anchorEl)\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  return (\n    <DropDownContainer item>\n      <IconButton edge=\"end\" onClick={handleClick}>\n        <MenuIcon />\n      </IconButton>\n      <DropDown\n        palette={palette}\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n      >\n        <MenuItem>\n          <Link to=\"/\">\n            <CustomButton\n              width=\"-webkit-fill-available\"\n              variant={props.location.pathname === \"/\" ? \"outlined\" : \"text\"}\n              onClick={handleClose}\n            >confección de carta</CustomButton>\n          </Link>\n        </MenuItem>\n        <MenuItem>\n          <Link to=\"/pedidos\">\n            <CustomButton\n              width=\"-webkit-fill-available\"\n              variant={props.location.pathname === \"/pedidos\" ? \"outlined\" : \"text\"}\n              onClick={handleClose}\n            >Resumen de órdenes</CustomButton>\n          </Link>\n        </MenuItem>\n        <MenuItem>\n          <Link to=\"/usuarios\">\n            <CustomButton\n              width=\"-webkit-fill-available\"\n              variant={props.location.pathname === \"/usuarios\" ? \"outlined\" : \"text\"}\n              onClick={handleClose}\n            >Gestión de usuarios</CustomButton>\n          </Link>\n        </MenuItem>\n        <MenuItem>\n          <CustomButton\n            width=\"-webkit-fill-available\"\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={props.logoutUser}\n          >Cerrar sesión</CustomButton>\n        </MenuItem>\n      </DropDown>\n    </DropDownContainer>\n  )\n}\n\nexport default withRouter(DropDownMenu)\n","import axios from 'axios'\n\nclass MenuService {\n\n    constructor() {\n        this.api = axios.create({\n            baseURL: process.env.REACT_APP_API_URL,\n            withCredentials: true\n        })\n    }\n    getMenus = () => this.api.get('menus/')\n    addMenu = (menuData) => this.api.post('menus/new', menuData)\n    deleteMenu = (id) => this.api.delete(`menus/${id}`)\n    updateMenu = (id, menuData) => this.api.put(`menus/${id}`, menuData)\n    getCategories = () => this.api.get('categories/')\n    addCategory = (categoryData) => this.api.post('categories/new', categoryData)\n    deleteCategory = (id) => this.api.delete(`categories/${id}`)\n    updateCategory = (id, categoryData) => this.api.put(`categories/${id}`, categoryData)\n    getProducts = () => this.api.get('products/')\n    getMenuProducts = () => this.api.get('products/menus')\n    addProduct = (productData) => this.api.post('products/new', productData)\n    deleteProduct = (id) => this.api.delete(`products/${id}`)\n    updateProduct = (id, productData) => this.api.put(`products/${id}`, productData)\n}\n\nexport default MenuService\n","import MenuService from \"../service/menu.service\"\n\n// const encryptor = require(\"simple-encryptor\")(process.env.ENCRYPTOR_KEY)\n\nexport const capitalizeTheFirstLetterOfEachWord = (words) => {\n  const notCapitalized = [\"a\", \"ante\", \"bajo\", \"cabe\", \"con\", \"contra\", \"de\", \"desde\", \"durante\", \"en\", \"entre\", \"hacia\", \"hasta\", \"mediante\", \"para\", \"por\", \"según\", \"sin\", \"so\", \"sobre\", \"tras\", \"versus\", \"vía\", \"un\", \"una\", \"unos\", \"unas\", \"el\", \"los\", \"la\", \"las\", \"lo\"]\n  let separateWord = words.toLowerCase().split(' ')\n  for (let i = 0; i < separateWord.length; i++) {\n    if (!notCapitalized.includes(separateWord[i])) {\n      separateWord[i] = separateWord[i].charAt(0).toUpperCase() +\n        separateWord[i].substring(1)\n    }\n  }\n  return separateWord.join(' ')\n}\n\nexport const findCategoryIndex = async (id) => {\n  const menuService = new MenuService()\n  const products = (await menuService.getProducts()).data.message\n  const productsInCategory = products.filter(prod => {\n    return prod.categories.some(cat => cat.id === id)\n  })\n  return productsInCategory.length + 1\n}\n\nexport const saveChanges = async (categories, products) => {\n  const menuService = new MenuService()\n  const error = { category: null, product: null }\n\n  if (categories) await Promise\n    .all(categories.map((cat) => menuService.updateCategory(cat._id, cat)))\n    .catch((err) => error.category = err)\n\n  if (products) await Promise\n    .all(products.map((prod) => menuService.updateProduct(prod._id, prod)))\n    .catch((err) => error.product = err)\n\n  const alert = (error.categry || error.product) &&\n  {\n    open: true,\n    severity: \"error\",\n    message: \"Error de servidor\",\n    vertical: \"bottom\",\n  }\n\n  return alert\n}\n\nexport const filterIsMenuProductInMenu = (products, menu) => {\n  const InMenuProducts = menu.menuContent.map(cat => {\n    return cat.products?.map(prod => prod._id)\n  }).flat()\n  return products?.filter(elm => !InMenuProducts.includes(elm._id))\n}\n\nexport const filterMenusWithThisProduct = (product, categories, menus) => {\n  return menus.filter(menu => !categories.some(cat => (cat.inMenu === menu._id && product.categories.some(elm => elm.id === cat._id))))\n}\n\nexport const encryptDate = () => {\n\n}\n","import { useContext } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Grid, FormControl, InputLabel, Select, MenuItem } from \"@material-ui/core\"\n\nimport ThemeContext from \"../../ThemeContext\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../utils\"\n\nconst Container = styled(Grid)`\n  display: none;\n  @media (max-width: 1067px) {\n    display: ${props => props.display === \"yes\" ? \"inline-flex\" : \"none\"};\n  }\n  .select {\n    margin: 0 0 -5px 15px;\n      & label {\n      font-family: arial;\n    }\n  }\n  .colors {\n    & .MuiInputBase-input {\n      font-family: arial;\n    }\n  }\n`\n\nfunction ThemeSelection(props) {\n  const { theme, palette, font, changePalette, changeFont } = useContext(ThemeContext)\n\n  let paletteName\n  const palettes = []\n  for (const [key, value] of Object.entries(theme.palette)) {\n    palettes.push(key)\n    if (value === palette) paletteName = key\n  }\n\n  let fontName\n  const fonts = []\n  for (const [key, value] of Object.entries(theme.font)) {\n    fonts.push(key)\n    if (value === font) fontName = key\n  }\n\n  const handleChange = (event) => {\n    event.target.name === \"palette\"\n      ? changePalette(event.target.value)\n      : changeFont(event.target.value)\n  }\n\n  return (\n    <Container container justify=\"center\" wrap=\"nowrap\" display={props.display}>\n      <FormControl variant=\"outlined\" size=\"small\" className=\"select colors\">\n        <InputLabel>Colores</InputLabel>\n        <Select\n          name=\"palette\"\n          value={paletteName}\n          onChange={handleChange}\n          label=\"Colores\"\n        >\n          {palettes.map(elm => {\n            return <MenuItem\n              key={elm}\n              value={elm}\n              style={{ background: `linear-gradient(217deg, ${theme.palette[elm].dark}, ${theme.palette[elm].primary.main})` }}\n            >\n              {capitalizeTheFirstLetterOfEachWord(elm)}\n            </MenuItem>\n          })}\n        </Select>\n      </FormControl>\n      <FormControl variant=\"outlined\" size=\"small\" className=\"select\">\n        <InputLabel>Tipografía</InputLabel>\n        <Select\n          name=\"font\"\n          value={fontName}\n          onChange={handleChange}\n          label=\"Tipografía\"\n        >\n          {fonts.map(elm => {\n            return <MenuItem\n              key={elm}\n              value={elm}\n              style={{ fontFamily: elm }}\n            >\n              {capitalizeTheFirstLetterOfEachWord(elm)}\n            </MenuItem>\n          })}\n        </Select>\n      </FormControl>\n    </Container>\n  )\n}\n\nexport default ThemeSelection\n","import axios from 'axios'\n\nclass AuthService {\n\n    constructor() {\n        this.api = axios.create({\n            baseURL: `${process.env.REACT_APP_API_URL}/auth`,\n            withCredentials: true\n        })\n    }\n\n    login = userData => this.api.post('/login', userData)\n    logout = () => this.api.post('/logout')\n    isLoggedIn = () => this.api.get('/loggedin')\n}\n\nexport default AuthService","import { Component } from \"react\"\nimport { Link, withRouter } from \"react-router-dom\"\n\nimport styled from \"styled-components\"\n\nimport { AppBar, Toolbar, Grid } from \"@material-ui/core\"\nimport RoomServiceIcon from \"@material-ui/icons/RoomService\"\nimport PhonelinkRingIcon from \"@material-ui/icons/PhonelinkRing\"\n\nimport ThemeContext from \"../../ThemeContext\"\nimport DropDownMenu from \"./DropDownMenu\"\nimport ThemeSelection from \"./ThemeSelection\"\nimport CustomButton from \"../shared/CustomButton\"\n\nimport AuthService from \"../../service/auth.service\"\n\nconst Navbar = styled(AppBar)`\n  position: fixed;\n  background-color: ${props => props.palette.dark};\n`\nconst ItemsContainer = styled(Grid)`\n  display: flex;\n  @media (max-width: 1067px) {\n    display: none;\n  }\n`\nconst MenuItem = styled.div`\n  margin-right: 20px;\n`\nconst LogosContainer = styled(Grid)`\n  display: flex;\n  margin-top: 5px;\n  @media (max-width: 599px) {\n    margin-left: -5px;\n  }\n`\nconst LogoOne = styled(RoomServiceIcon)`\n  font-size: 1.5rem;\n  margin-top: 11px;\n  margin-left: -5px;\n  @media (max-width: 599px) {\n    font-size: 1.2rem;\n  }\n`\nconst LogoTwo = styled(PhonelinkRingIcon)`\n  font-size: 1.5rem;\n  margin-bottom: -8px;\n  @media (max-width: 599px) {\n    font-size: 1.2rem;\n  }\n`\n\nclass Navigation extends Component {\n  static contextType = ThemeContext\n\n  constructor() {\n    super()\n    this.state = {\n      mobile: window.screen.width > 1067 ? false : true,\n    }\n    this.authService = new AuthService()\n  }\n\n  logoutUser = () => {\n    this.authService\n      .logout()\n      .then(() => {\n        this.props.storeUser(undefined)\n      })\n      .catch((err) => alert(err))\n  }\n\n  render() {\n    const { palette } = this.context\n\n    return (\n      <Navbar palette={palette}>\n        <Toolbar>\n          <Grid container justify=\"space-between\" alignItems=\"center\" wrap=\"nowrap\">\n            <LogosContainer item>\n              <LogoTwo color=\"action\" />\n              <LogoOne color=\"action\" />\n            </LogosContainer>\n            <ThemeSelection display={this.props.isMenuSelected ? \"yes\" : \"no\"} />\n            <DropDownMenu {...this.props} logoutUser={this.logoutUser} />\n            <ItemsContainer item>\n              <MenuItem palette={palette}>\n                <Link to=\"/\">\n                  <CustomButton variant={this.props.location.pathname === \"/\" ? \"outlined\" : \"text\"}>\n                    confección de carta\n                  </CustomButton>\n                </Link>\n              </MenuItem>\n              <MenuItem palette={palette}>\n                <Link to=\"/pedidos\">\n                  <CustomButton variant={this.props.location.pathname === \"/pedidos\" ? \"outlined\" : \"text\"}>\n                    Resumen de órdenes\n                  </CustomButton>\n                </Link>\n              </MenuItem>\n              <MenuItem palette={palette}>\n                <Link to=\"/usuarios\">\n                  <CustomButton variant={this.props.location.pathname === \"/usuarios\" ? \"outlined\" : \"text\"}>\n                    Gestión de usuarios\n                  </CustomButton>\n                </Link>\n              </MenuItem>\n            </ItemsContainer>\n            <ItemsContainer item>\n              <CustomButton\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={this.logoutUser}\n              >Cerrar sesión</CustomButton>\n            </ItemsContainer>\n          </Grid>\n        </Toolbar>\n      </Navbar >\n    )\n  }\n}\n\nexport default withRouter(Navigation)\n","import { Typography } from \"@material-ui/core\"\n\nfunction Orders(props) {\n  return (\n    <Typography align=\"center\" variant=\"h5\">Página en construcción</Typography>\n  )\n}\n\nexport default Orders","import { useState } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { TextField } from \"@material-ui/core\"\nimport AddBoxIcon from \"@material-ui/icons/AddBox\"\n\nimport CustomButton from \"../../../shared/CustomButton\"\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 15px;\n  & form {\n    margin-bottom: 10px;\n  }\n`\nconst StyledForm = styled.form`\n  width: 100%;\n`\nconst Button = styled(CustomButton)`\n  padding: 5px 10px;\n  font-size: 0.8rem;\n`\n\nfunction MenuForm(props) {\n  const [name, setName] = useState(\"\")\n  const handleChange = (e) => setName(e.target.value)\n  const submit = (e, name) => {\n    props.addMenu(e, { name })\n    setName(\"\")\n  }\n\n  return (\n    <Container>\n      <StyledForm onSubmit={(e) => submit(e, name)} autoComplete=\"off\">\n        <TextField\n          fullWidth\n          autoFocus={false}\n          variant=\"outlined\"\n          size=\"small\"\n          label={`Nombre`}\n          type=\"text\"\n          value={name}\n          onChange={handleChange}\n        />\n      </StyledForm>\n      <Button\n        color=\"primary\"\n        onClick={(e) => submit(e, name)}\n        startIcon={<AddBoxIcon />}\n      >{props.type === \"carta\" ? \"nueva carta\" : \"nuevo menú\"}</Button>\n    </Container>\n  )\n}\n\nexport default MenuForm","import { Typography } from \"@material-ui/core\"\nimport Button from \"../../shared/CustomButton\"\n\nfunction Menu(props) {\n\n  return (\n    <div>\n      {/* Menu para pedir desde mesa {props.location.search.slice(-2)} */}\n      <Typography align=\"center\" gutterBottom={true} variant=\"h5\">Página en construcción</Typography>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <Button onClick={() => props.close()}>\n          Volver\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default Menu\n","import { Component } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Draggable } from \"react-beautiful-dnd\"\n\nimport { Typography, Button } from \"@material-ui/core\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../../../../utils\"\n\nexport const Container = styled.div`\n  padding: 5px 10px 5px 20px;\n  margin: 0 0 5px;\n  transform: ${props => (props.isDragging ? \"rotate(2deg)\" : \"none\")};\n  background-color: ${props => (props.isDragging ? props.palette.primary.main : props.palette.dark)};\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  & .MuiButton-label {\n    font-size: 0.75rem;\n    line-height: normal;\n  }\n`\n\nclass Product extends Component {\n  static contextType = ThemeContext\n\n  showProductInfo = (product) => {\n    this.props.showProductTooltip(product)\n  }\n\n  hideProductInfo = () => {\n    this.props.hideProductTooltip()\n  }\n\n  deleteProduct = () => {\n    this.props.showConfirmationMessage(this.props.index, this.props.product._id, this.props.category)\n  }\n\n  render() {\n    const { palette } = this.context\n\n    return (\n      <Draggable draggableId={this.props.product._id} index={this.props.index}>\n        {(provided, snapshot) => (\n          <Container\n            palette={palette}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            ref={provided.innerRef}\n            isDragging={snapshot.isDragging}\n            onMouseEnter={() => this.showProductInfo(this.props.product)}\n            onMouseLeave={() => this.hideProductInfo()}\n          >\n            <Typography variant=\"h6\" noWrap>\n              {capitalizeTheFirstLetterOfEachWord(this.props.product.name)}\n            </Typography>\n            <div style={{ whiteSpace: 'nowrap' }}>\n              <Button\n                style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                onClick={() => this.props.openProductForm(this.props.product)}\n                color=\"primary\"\n                endIcon={<EditIcon />}\n              />\n              <Button\n                style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                onClick={this.deleteProduct}\n                color=\"primary\"\n                endIcon={<DeleteForeverIcon />}\n              ></Button>\n            </div>\n          </Container>\n        )}\n      </Draggable>\n    )\n  }\n}\n\nexport default Product\n","import { Component } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Droppable, Draggable } from \"react-beautiful-dnd\"\n\nimport { Typography, Button, Grid, TextField, Divider } from \"@material-ui/core\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport AddBoxIcon from \"@material-ui/icons/AddBox\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\nimport Product from \"./Product\"\nimport CustomButton from \"../../../../shared/CustomButton\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../../../../utils\"\n\nexport const CategoryContainer = styled.div`\n  margin: 5px 0;\n  padding: 5px 0 5px;\n  background-color: ${props => props.palette.dark};\n  border-radius: 5px;\n  width: 100%;\n  max-width: 548px;\n  display: flex;\n  flex-direction: column;\n`\nexport const TitleGrid = styled(Grid)`\n  padding: 0 10px;\n`\nexport const Title = styled(Typography)`\n  padding: 12px 12px 0 10px;\n  &.cat-description {\n    font-style: italic;\n    padding-top: 0;\n    margin-left: 10px;\n  }\n  &.product-placeholder {\n    padding-bottom: 12px;\n    margin-left: 10px;\n  }\n`\nexport const TitleInput = styled(TextField)`\n  color: red;\n  margin: 9px 0 1px 10px;\n  width: 100%;\n`\nexport const ProductList = styled.div`\n  padding: 5px 0 0;\n  transition: background-color 0.2s ease;\n  background-color: ${props => props.isDraggingOver ? props.palette.light : 'inherit'};\n  flex-grow: 1;\n`\nexport const MenuForm = styled.form`\n  width: 99%;\n  & input, label {\n    font-family: arial;\n  }\n`\nexport const AddButtonContainer = styled(Grid)`\n  padding: 10px 0 5px 12px;\n`\n\nclass Category extends Component {\n  static contextType = ThemeContext\n\n  constructor() {\n    super()\n\n    this.state = {\n      showCategoryInput: false,\n    }\n  }\n\n  componentDidMount = () => {\n    this.setState({ category: this.props.category })\n  }\n\n  toggleInput = () => {\n    if (!this.state.showCategoryInput) {\n      window.addEventListener('mousedown', this.handleClick)\n      window.addEventListener('keypress', this.handleEnter)\n      this.setState({ showCategoryInput: true })\n    }\n  }\n\n  handleClick = (e) => {\n    if (e.target.name !== \"name\" && e.target.name !== \"description\") this.inputSubmit()\n  }\n\n  handleEnter = (e) => {\n    e.key === \"Enter\" && this.inputSubmit()\n  }\n\n  handleInputChange = (e) => {\n    const { value, name } = e.target\n    this.setState({ category: { ...this.state.category, [name]: value } })\n  }\n\n  inputSubmit = () => {\n    window.removeEventListener('mousedown', this.handleClick)\n    window.removeEventListener('keypress', this.handleEnter)\n    this.props.editCategory(this.state.category)\n    this.setState({ showCategoryInput: false })\n  }\n\n  componentDidUpdate = (prevProps, prevState) => {\n    if (this.state.showCategoryInput !== prevState.showCategoryInput) {\n      this.props.category.name === prevProps.category.name\n        && this.setState({ category: { ...this.state.category, name: this.props.category.name } })\n    }\n  }\n\n  render() {\n    const { palette } = this.context\n\n    return (\n      <Draggable draggableId={this.props.category._id} index={this.props.index}>\n        {provided => (\n          <CategoryContainer palette={palette} {...provided.draggableProps} ref={provided.innerRef}>\n            <TitleGrid\n              {...provided.dragHandleProps}\n              container\n              justify=\"space-between\"\n              alignItems=\"flex-end\"\n              wrap=\"nowrap\"\n            >\n              {this.state.showCategoryInput\n                ? <MenuForm autoComplete=\"off\">\n                  <Grid container justify=\"space-between\" alignItems=\"flex-end\" wrap=\"nowrap\">\n                    <Grid item xs={7} style={{ marginRight: \"24px\" }}>\n                      <TitleInput\n                        style={{ width: '100%' }}\n                        palette={palette}\n                        name=\"name\"\n                        size=\"small\"\n                        label=\"Categoría\"\n                        type=\"text\"\n                        autoFocus\n                        value={this.state.category.name}\n                        onChange={this.handleInputChange}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <Button variant=\"outlined\" color=\"primary\" style={{ fontFamily: \"arial\" }}>guardar</Button>\n                    </Grid>\n                  </Grid>\n                  <TitleInput\n                    style={{ width: '97%', marginBottom: '15px' }}\n                    palette={palette}\n                    name=\"description\"\n                    size=\"small\"\n                    label=\"Descripción\"\n                    type=\"text\"\n                    value={this.state.category.description}\n                    onChange={this.handleInputChange}\n                  />\n                </MenuForm>\n                : <Title palette={palette} variant=\"h5\" noWrap>\n                  {capitalizeTheFirstLetterOfEachWord(this.props.category.name)}\n                </Title>\n              }\n              <Grid item>\n                {!this.state.showCategoryInput &&\n                  <Grid container wrap=\"nowrap\">\n                    <Button\n                      style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                      onClick={() => this.toggleInput()}\n                      endIcon={<EditIcon />}\n                    ></Button>\n                    <Button\n                      style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                      onClick={() => this.props.showConfirmationMessage(this.props.index, this.props.category._id)}\n                      endIcon={<DeleteForeverIcon />}\n                    ></Button>\n                  </Grid>\n                }\n              </Grid>\n            </TitleGrid>\n            {(this.props.category.description && !this.state.showCategoryInput) &&\n              <Title palette={palette} variant=\"h6\" noWrap className=\"cat-description\">\n                {this.props.category.description.slice(0, 1).toUpperCase() + this.props.category.description.slice(1)}\n              </Title>\n            }\n            <Divider style={{ margin: '12px 0 0', zIndex: '999' }} />\n            <Droppable droppableId={this.props.category._id} type=\"product\">\n              {(provided, snapshot) => (\n                <ProductList\n                  palette={palette}\n                  ref={provided.innerRef}\n                  {...provided.droppableProps}\n                  isDraggingOver={snapshot.isDraggingOver}\n                >\n                  {this.props.products\n                    .sort((a, b) => {\n                      return a.categories.find(cat => cat.id === this.props.category._id).index\n                        - b.categories.find(cat => cat.id === this.props.category._id).index\n                    })\n                    .map(product => (\n                      <Product\n                        key={product._id}\n                        category={this.props.category._id}\n                        product={product}\n                        index={product.categories.find(cat => cat.id === this.props.category._id).index}\n                        showConfirmationMessage={this.props.showConfirmationMessage}\n                        openProductForm={this.props.openProductForm}\n                        showProductTooltip={this.props.showProductTooltip}\n                        hideProductTooltip={this.props.hideProductTooltip}\n                      />\n                    ))}\n                  {(!this.props.products.some(prod => {\n                    return prod.categories.some(cat => {\n                      return cat.id === this.props.category._id\n                    })\n                  }) && !snapshot.isDraggingOver)\n                    && <Title variant=\"subtitle2\" margin=\"normal\" color=\"primary\" className=\"product-placeholder\">\n                      Aún no has añadido productos a esta categoría.\n                          </Title>\n                  }\n                  {provided.placeholder}\n                </ProductList>\n              )}\n            </Droppable>\n\n            <Divider />\n\n            <AddButtonContainer container justify=\"flex-start\">\n              <CustomButton\n                color=\"primary\"\n                onClick={() => this.props.openProductForm(null, this.props.category._id)}\n                size=\"small\"\n                startIcon={<AddBoxIcon />}\n              >\n                Nuevo producto\n              </CustomButton>\n            </AddButtonContainer>\n          </CategoryContainer>\n        )}\n      </Draggable>\n    )\n  }\n}\n\nexport default Category\n","import { useContext } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Typography, Divider } from \"@material-ui/core\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../../../../utils\"\n\nexport const Tooltip = styled.div`\n  border: 2px solid ${props => props.product ? props.palette.primary.main : \"#ffffff00\"};\n  border-radius: 5px;\n  position: fixed;\n  left: calc(50% + 54px);\n  top: ${props => props.menuDescription ? \"199px\" : \"167px\"};\n  background-color: ${props => props.palette.dark};\n  width: 450px;\n  padding: ${props => props.padding || \"0 0 12px 0\"};\n  @media (max-width: 1067px) {\n    display: none;\n  }\n  & h6 {\n    font-family: ${props => props.font};\n  }\n`\nconst Title = styled(Typography)`\n  padding: 15px 15px 10px;\n  font-weight: 200;\n`\nconst Text = styled(Typography)`\n  padding: 10px 15px;\n  font-weight: 400;\n`\n\nfunction ProductTooltip(props) {\n  const { palette } = useContext(ThemeContext)\n\n  return (\n    <Tooltip palette={palette} menuDescription={props.menuDescription} product={true}>\n      <Title variant=\"h5\">\n        {capitalizeTheFirstLetterOfEachWord(props.product.name)}\n      </Title>\n      {props.product.description &&\n        <>\n          <Divider />\n          <Text variant=\"h6\">\n            {props.product.description.slice(0, 1).toUpperCase() + props.product.description.slice(1)}\n          </Text>\n        </>\n      }\n      {props.product.allergies.length\n        ? <>\n          <Divider />\n          <Text variant=\"h6\">\n            <strong>Contiene:</strong>\n            <br />\n            {props.product.allergies.map((elm, i, arr) => {\n              if (i === arr.length - 1) {\n                return <i key={elm}> {elm}</i>\n              } else {\n                return <i key={elm}> {elm} -</i>\n              }\n            })}\n          </Text>\n        </>\n        : null\n      }\n      <Divider />\n      {props.product.price.map((elm, i) => {\n        return (\n          <Text key={i} style={{ marginBottom: '-10px', fontSize: '1.2rem', fontWeight: '200' }}>\n            {elm.subDescription && elm.subDescription.slice(0, 1).toUpperCase() + elm.subDescription.slice(1) + \" - \"}{elm.subPrice}€ {props.product.minPortions > 1 ? `(mínimo ${props.product.minPortions} personas)` : null}\n          </Text>\n        )\n      })}\n    </Tooltip>\n  )\n}\n\nexport default ProductTooltip","import { useState, useContext } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  InputLabel,\n  Input,\n  MenuItem,\n  FormControl,\n  Select,\n  FormHelperText,\n} from \"@material-ui/core\"\n\nimport ThemeContext from \"../../ThemeContext\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../utils\"\n\nconst CustomDialog = styled(Dialog)`\n  & .MuiPaper-root {\n    background-color: ${props => props.palette.secondary.main};\n    width: 450px;\n    margin: 0;\n    @media (max-width: 649px) {\n      width: 100%;\n    }\n    & h2 {\n      font-size: 1rem;\n    }\n  }\n  & label, input, div, button, p, h2 {\n    font-family: arial;\n  }\n`\nconst CustomForm = styled.form`\n  display: flex;\n  flex-wrap: wrap;\n`\nconst CustomFormControl = styled(FormControl)`\n  width: 100%;\n  margin: 0;\n  @media (max-width: 649px) {\n    width: 100%;\n  }\n`\n\nexport default function DialogSelect(props) {\n  const { palette } = useContext(ThemeContext)\n  const [open, setOpen] = useState(false)\n  const [menu, setMenu] = useState(\"\")\n  const [category, setCategory] = useState(\"\")\n\n  const handleChange = (event) => {\n    event.target.name === \"menu\"\n      ? setMenu(event.target.value || \"\")\n      : setCategory(event.target.value || \"\")\n  }\n\n  const handleClickOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setMenu(\"\")\n    setCategory(\"\")\n    setOpen(false)\n  }\n\n  const handleSave = () => {\n    props.addCategory(category)\n    setMenu(\"\")\n    setCategory(\"\")\n    setOpen(false)\n  }\n\n  return (\n    <div>\n      <Button disabled={props.disabled} onClick={handleClickOpen}>incluir en otras cartas</Button>\n      {props.product.name &&\n        <CustomDialog palette={palette} disableBackdropClick open={open} onClose={handleClose}>\n          <DialogTitle>\n            Selecciona Carta y Categoría donde quieras incluir\n            <b> {capitalizeTheFirstLetterOfEachWord(props.product.name)}</b>\n          </DialogTitle>\n          <DialogContent>\n            <CustomForm>\n              <CustomFormControl>\n                <InputLabel htmlFor=\"menu\">Carta</InputLabel>\n                <Select\n                  name=\"menu\"\n                  value={menu}\n                  onChange={handleChange}\n                  input={<Input id=\"menu\" />}\n                >\n                  {props.otherMenus.map(elm => {\n                    return <MenuItem\n                      style={{ fontFamily: \"arial\" }}\n                      key={elm._id}\n                      value={elm._id}\n                    >\n                      {capitalizeTheFirstLetterOfEachWord(elm.name)}\n                    </MenuItem>\n                  })}\n                </Select>\n              </CustomFormControl>\n              <CustomFormControl disabled={menu ? false : true}>\n                <InputLabel id=\"category\">Categoría</InputLabel>\n                <Select\n                  name=\"category\"\n                  value={category}\n                  onChange={handleChange}\n                  input={<Input id=\"category\" />}\n                >\n                  {props.otherCategories.filter(elm => {\n                    return elm.inMenu === menu\n                  }).map(elm => {\n                    return <MenuItem\n                      style={{ fontFamily: \"arial\" }}\n                      key={elm._id}\n                      value={elm._id}\n                    >\n                      {capitalizeTheFirstLetterOfEachWord(elm.name)}\n                    </MenuItem>\n                  })\n                  }\n                </Select>\n                <FormHelperText>Selecciona una carta antes de asignar categoría</FormHelperText>\n              </CustomFormControl>\n            </CustomForm>\n          </DialogContent>\n          <DialogActions style={{ margin: '2em 9px 7px' }}>\n            <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\n              aceptar\n            </Button>\n            <Button onClick={handleClose} color=\"primary\" style={{ marginLeft: '19px' }}>\n              cancelar\n            </Button>\n          </DialogActions>\n        </CustomDialog>\n      }\n    </div>\n  )\n}\n","import styled from \"styled-components\"\n\nimport { CircularProgress, Grid } from \"@material-ui/core\"\n\nconst CustomCircularProgress = styled(CircularProgress)`\n  margin: ${props => props.margin ? props.margin : \"200px 0 0\"};\n`\n\nfunction Spinner(props) {\n  return (\n    <Grid container justify=\"center\" alignItems=\"center\">\n      <CustomCircularProgress size={80} thickness={2.5} margin={props.margin} />\n    </Grid>\n\n  )\n}\n\nexport default Spinner","import { Component } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport {\n  Modal,\n  Backdrop,\n  Fade,\n  Grid,\n  TextField,\n  Button,\n  FormControl,\n  FormLabel,\n  FormGroup,\n  FormControlLabel,\n  Checkbox,\n  InputAdornment,\n  Typography,\n  Divider,\n} from \"@material-ui/core\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport AddBoxIcon from \"@material-ui/icons/AddBox\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\nimport DialogSelect from \"../../../../shared/DialogSelect\"\nimport Spinner from \"../../../../shared/Spinner\"\n\nimport { findCategoryIndex, filterMenusWithThisProduct } from \"../../../../../utils\"\n\nconst StyledBackdrop = styled(Backdrop)`\n  background-color: rgba(0, 0, 0, 0.7);\n`\nconst ProductModal = styled(Modal)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\nconst Form = styled.form`\n  overflow-y: scroll;\n  max-height: 75vh;\n  background-color: ${props => props.palette.dark};\n  border: 2px solid #000;\n  box-shadow: 4px 3px 5px -1px rgb(0 0 0 / 20%), 0px 5px 8px 0px rgb(0 0 0 / 14%), 0px 1px 14px 0px rgb(0 0 0 / 12%);\n  padding: 24px 24px 0;\n  max-width: 620px;\n  width: 90%;\n  display: flex;\n  flex-direction: column;\n  & > * {\n    margin-bottom: 24px;\n  }\n  .in-menu > span {\n    font-size: 0.875rem;\n  }\n  .other-menus-label {\n    font-size: 0.8rem;\n    margin: 0 0 30px;\n    text-align: center;\n  }\n  & label, input, span, button, p, legend, textarea {\n    font-family: arial;\n  }\n`\nconst DeletePrice = styled(Grid)`\n  height: 70px;\n  display: flex;\n  justify-content: center;\n`\nconst PriceGrid = styled(Grid)`\n  outline: ${props => props.palette.primary.main} dotted;\n  outline-offset: 5px;\n  outline-width: 2px;\n  margin-bottom: -8px;\n  padding: 0px 18px 5px 5px;\n`\nconst PriceSubcontainer = styled(Grid)`\n  @media (max-width: 599px) {\n    margin: 10px 0 0 -30px;\n  }\n`\nconst MinPortions = styled(TextField)`\n  width: 36px;\n  margin-left: 10px;\n  & input {\n    padding-bottom: 3px;\n  }\n`\n\nclass ProductForm extends Component {\n  static contextType = ThemeContext\n\n  constructor(props) {\n    super()\n\n    this.state = {\n      product: props.product,\n    }\n  }\n\n  componentDidMount = () => {\n    this.setState({ showSpinner: false })\n  }\n\n  handleInputChange = (e) => {\n    const { name, value } = e.target\n    this.setState({ product: { ...this.state.product, [name]: value } })\n  }\n\n  handleCheckboxChange = (e) => {\n    const allergies = this.state.product.allergies ? [...this.state.product.allergies] : []\n    e.target.checked\n      ? allergies.push(e.target.name)\n      : allergies.splice(allergies.findIndex(elm => elm === e.target.name), 1)\n    this.setState({ product: { ...this.state.product, allergies } })\n  }\n\n  handlePriceChange = (e, index) => {\n    const { name, value } = e.target\n    const price = this.state.product.price ? [...this.state.product.price] : [{}]\n    price[index][name] = value\n    this.setState({ product: { ...this.state.product, price } })\n  }\n\n  addPrice = () => {\n    const price = [...this.state.product.price]\n    if (price[price.length - 1].subDescription) {\n      price.push({ subDescription: \"\", subPrice: 0 })\n      this.setState({ product: { ...this.state.product, price } })\n    } else this.props.showAlert(\"Debes rellenar el campo descriptivo del precio existente antes de agregar otro precio\", \"error\", \"bottom\")\n  }\n\n  deletePrice = (i) => {\n    const price = [...this.state.product.price]\n    if (price.length > 1) {\n      price.splice(i, 1)\n      this.setState({ product: { ...this.state.product, price } })\n    } else this.props.showAlert(\"Cada producto debe tener al menos un precio\", \"error\", \"bottom\")\n  }\n\n  addCategory = async (id) => {\n    const product = { ...this.state.product }\n    const index = await findCategoryIndex(id)\n    product.categories.push({ id, index })\n    this.setState({ product })\n  }\n\n  changeIsMenuProduct = (e) => {\n    const product = { ...this.state.product }\n    product.isMenuProduct = e.target.checked\n    this.setState({ product })\n  }\n\n  submitForm = (e, product) => {\n    this.props.submitForm(e, product)\n    this.setState({ showSpinner: true })\n  }\n\n  render() {\n    const { palette } = this.context\n    const otherMenus = filterMenusWithThisProduct(this.state.product, this.props.otherCategories, this.props.otherMenus)\n\n    return (\n      <ProductModal\n        open={this.props.open}\n        onClose={this.props.handleClose}\n        closeAfterTransition\n        BackdropComponent={StyledBackdrop}\n        BackdropProps={{ timeout: 500 }\n        }\n      >\n        <Fade in={this.props.open}>\n          <Form\n            palette={palette}\n            autoComplete=\"off\"\n            onSubmit={(e) => this.submitForm(e, this.state.product)}\n          >\n            {this.state.showSpinner\n              ? <Spinner margin=\"0\" />\n              : <>\n                <Grid container justify=\"space-between\"> {/* name */}\n                  <TextField\n                    required\n                    autoFocus={this.state.product.name ? false : true}\n                    variant=\"outlined\"\n                    name=\"name\"\n                    label=\"Nombre del producto\"\n                    type=\"text\"\n                    value={this.state.product.name ? this.state.product.name : \"\"}\n                    onChange={this.handleInputChange}\n                    style={{ width: '80%' }}\n                  />\n                  <Button\n                    style={{\n                      minWidth: '0',\n                      padding: '5px 11px 5px 0',\n                      height: 'fit-content',\n                      margin: '-8px',\n                    }}\n                    onClick={this.props.handleClose}\n                    color=\"primary\"\n                    endIcon={<CloseIcon style={{ fontSize: '25px' }} />}\n                  />\n                </Grid>\n\n                <PriceGrid palette={palette}> {/* price */}\n                  <FormLabel component=\"legend\" style={{ fontSize: '0.8rem', margin: '0 0 -5px -5px' }}>Precios</FormLabel>\n                  <Divider\n                    style={{\n                      margin: '10px -23px 0 -10px',\n                      backgroundColor: palette.primary.main + '0.3'\n                    }}\n                  />\n                  {this.state.product.price.map((price, index) => {\n                    return (\n                      <div key={index}>\n                        <Grid\n                          container\n                          justify=\"space-between\"\n                          style={{ margin: '12px 0 0' }}\n                        >\n                          <Grid item xs={12} sm={7}>\n                            <TextField\n                              fullWidth\n                              name=\"subDescription\"\n                              label=\"Cantidad o ración\"\n                              type=\"text\"\n                              helperText=\"media ración o ración entera, copa de vino o botella, etc.\"\n                              value={price.subDescription ? price.subDescription : \"\"}\n                              onChange={(e) => this.handlePriceChange(e, index)}\n                            />\n                          </Grid>\n                          <Grid item xs={12} sm={5}>\n                            <PriceSubcontainer container justify=\"space-between\">\n                              <Grid item xs={8} style={{ margin: '7px 0 -5px 30px' }}>\n                                <TextField\n                                  required\n                                  variant=\"outlined\"\n                                  name=\"subPrice\"\n                                  label=\"Precio\"\n                                  type=\"number\"\n                                  InputProps={{ startAdornment: <InputAdornment position=\"start\">€</InputAdornment> }}\n                                  value={price.subPrice}\n                                  onChange={(e) => this.handlePriceChange(e, index)}\n                                />\n                              </Grid>\n                              <DeletePrice item xs={1}>\n                                <Button\n                                  style={{\n                                    minWidth: '0',\n                                    padding: '5px 27px 5px 15px',\n                                    height: 'fit-content',\n                                    margin: 'auto'\n                                  }}\n                                  onClick={() => this.deletePrice(index)}\n                                  color=\"primary\"\n                                  endIcon={<DeleteForeverIcon style={{ fontSize: '25px' }} />}\n                                />\n                              </DeletePrice>\n                            </PriceSubcontainer>\n                          </Grid>\n                        </Grid>\n                        <Divider\n                          style={{\n                            margin: '10px -23px 0 -10px',\n                            backgroundColor: palette.primary.main + '0.3'\n                          }}\n                        />\n                      </div>\n                    )\n                  })}\n                  <Grid container justify=\"flex-start\" style={{ margin: '10px 0 0' }}>\n                    <Button\n                      size=\"small\"\n                      variant=\"outlined\"\n                      color=\"primary\"\n                      startIcon={<AddBoxIcon />}\n                      onClick={this.addPrice}\n                    >\n                      agregar precio\n                  </Button>\n                  </Grid>\n                </PriceGrid>\n\n                <TextField name=\"description\"\n                  style={{ marginTop: '30px' }}\n                  label=\"Descripción (opcional)\"\n                  type=\"text\"\n                  multiline\n                  value={this.state.product.description ? this.state.product.description : \"\"}\n                  onChange={this.handleInputChange}\n                />\n\n                <Typography> {/* minPortions */}\n                  Mínimo\n                <MinPortions\n                    size=\"small\"\n                    name=\"minPortions\"\n                    type=\"number\"\n                    value={this.state.product.minPortions}\n                    onChange={(e) => this.handleInputChange(e)}\n                  />\n                  {this.state.product.minPortions > 1 ? \" raciones\" : \" ración\"}\n                </Typography>\n\n                <FormControl /* allergies */\n                  component=\"fieldset\"\n                  style={{ outline: 'dotted', outlineOffset: '5px', outlineColor: palette.primary.main, outlineWidth: '2px' }}\n                >\n                  <FormLabel component=\"legend\" style={{ fontSize: '0.8rem' }}>Contiene (opcional)</FormLabel>\n                  <FormGroup row style={{ paddingLeft: '6px' }}>\n                    <Grid container justify=\"space-between\">\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Gluten\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Gluten\" />}\n                        label=\"Gluten\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Crustáceos\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Crustáceos\" />}\n                        label=\"Crustáceos\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Huevos\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Huevos\" />}\n                        label=\"Huevos\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Apio\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Apio\" />}\n                        label=\"Apio\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Sulfitos\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Sulfitos\" />}\n                        label=\"Sulfitos\"\n                      />\n                    </Grid>\n                    <Grid container justify=\"space-between\">\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Lácteos\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Lácteos\" />}\n                        label=\"Lácteos\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Cacahuetes\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Cacahuetes\" />}\n                        label=\"Cacahuetes\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Mostaza\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Mostaza\" />}\n                        label=\"Mostaza\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Frutos de cáscara\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Frutos de cáscara\" />}\n                        label=\"Frutos de cáscara\"\n                      />\n                    </Grid>\n                    <Grid container justify=\"space-between\">\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Granos de sésamo\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Granos de sésamo\" />}\n                        label=\"Granos de sésamo\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Soja\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Soja\" />}\n                        label=\"Soja\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Moluscos\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Moluscos\" />}\n                        label=\"Moluscos\"\n                      />\n                      <FormControlLabel\n                        control={<Checkbox\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={this.state.product.allergies?.some(elm => elm === \"Altramuces\")}\n                          onChange={this.handleCheckboxChange}\n                          name=\"Altramuces\" />}\n                        label=\"Altramuces\"\n                      />\n                    </Grid>\n                  </FormGroup>\n                </FormControl>\n\n                <Grid container justify=\"space-around\"> {/* inMenu */}\n                  <DialogSelect\n                    addCategory={(id) => this.addCategory(id)}\n                    otherMenus={otherMenus}\n                    otherCategories={this.props.otherCategories}\n                    product={this.state.product}\n                    disabled={otherMenus.length ? false : true}\n                  />\n                  <FormControlLabel\n                    disabled={this.state.product.isMenuProduct}\n                    style={{ marginRight: \"0\" }}\n                    className=\"in-menu\"\n                    label=\"DISPONIBLE EN MENÚS\"\n                    control={<Checkbox\n                      size=\"small\"\n                      color=\"primary\"\n                      checked={this.state.product.isMenuProduct}\n                      onChange={this.changeIsMenuProduct} />}\n                  />\n                  <FormLabel component=\"legend\" className=\"other-menus-label\">\n                    {this.props.otherMenus &&\n                      \"Usa estas opciones para reusar este producto en otras cartas o menús\"\n                    }\n                  </FormLabel>\n                </Grid>\n\n                <Grid container justify=\"center\"> {/* save */}\n                  <Button\n                    style={{ marginRight: '20px' }}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                  >\n                    guardar\n                  </Button>\n                  <Button color=\"primary\" onClick={this.props.handleClose}>salir sin guardar</Button>\n                </Grid>\n              </>\n            }\n          </Form>\n        </Fade>\n      </ProductModal >\n    )\n  }\n}\n\nexport default ProductForm\n","import { useState } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Grid, TextField } from \"@material-ui/core\"\nimport AddBoxIcon from \"@material-ui/icons/AddBox\"\n\nimport CustomButton from \"../../../../shared/CustomButton\"\n\nconst CategoryContainer = styled.div`\n  margin: 28px 0 35px;\n  width: 100%;\n  max-width: 548px;\n  & label, input {\n    font-family: arial;\n  }\n`\n\nfunction CategoryForm(props) {\n  const { addCategory } = props\n  const [name, setName] = useState(\"\")\n  const handleChange = (e) => setName(e.target.value)\n  const submit = (e, name) => {\n    addCategory(e, name)\n    setName(\"\")\n  }\n\n  return (\n    <CategoryContainer>\n      <Grid container justify=\"center\" alignItems=\"center\" spacing={3}>\n        <Grid item xs={10} sm={6}>\n          <form onSubmit={(e) => submit(e, name)} autoComplete=\"off\">\n            <TextField\n              fullWidth\n              autoFocus={false}\n              variant=\"outlined\"\n              size=\"small\"\n              label=\"Nombre\"\n              type=\"text\"\n              value={name}\n              onChange={handleChange}\n            />\n          </form>\n        </Grid>\n        <Grid item xs={10} sm={6}>\n          <Grid container justify=\"flex-end\">\n            <CustomButton\n              onClick={(e) => submit(e, name)}\n              startIcon={<AddBoxIcon />}\n            >Nueva categoría</CustomButton>\n          </Grid>\n        </Grid>\n      </Grid>\n    </CategoryContainer>\n  )\n}\n\nexport default CategoryForm","import { useContext } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Grid, FormControl, InputLabel, Select, MenuItem } from \"@material-ui/core\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\nimport CustomButton from \"../../../../shared/CustomButton\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../../../../utils\"\n\nconst Container = styled(Grid)`\n  height: 80px;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 1000;\n  flex-wrap: nowrap;\n  background-color: ${props => props.palette.dark + 'cc'};\n  @media (max-width: 1067px) {\n    height: 60px;\n    padding-bottom: 5px;\n  }\n  .select {\n    min-width: 100px;\n    margin: 0 10px;\n    @media (max-width: 1067px) {\n      display: none;\n    }\n    & label {\n      font-family: arial;\n    }\n  }\n  .colors {\n    & .MuiInputBase-input {\n      font-family: arial;\n    }\n  }\n`\nconst SubButton = styled(CustomButton)`\n  margin: 0 20px;\n  min-width: fit-content;\n  @media (max-width: 375px) {\n    margin: 0 10px;\n    min-width: fit-content;\n  }\n  @media (max-width: 332px) {\n    margin: 0 5px;\n    min-width: fit-content;\n  }\n`\n\nfunction SubNavigation(props) {\n  const { theme, palette, font, changePalette, changeFont } = useContext(ThemeContext)\n\n  let paletteName\n  const palettes = []\n  for (const [key, value] of Object.entries(theme.palette)) {\n    palettes.push(key)\n    if (value === palette) paletteName = key\n  }\n\n  let fontName\n  const fonts = []\n  for (const [key, value] of Object.entries(theme.font)) {\n    fonts.push(key)\n    if (value === font) fontName = key\n  }\n\n  const handleChange = (event) => {\n    event.target.name === \"palette\"\n      ? changePalette(event.target.value)\n      : changeFont(event.target.value)\n  }\n\n  return (\n    <Container palette={palette} container justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <SubButton\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => props.previewMenu()}\n        >vista previa de Carta</SubButton>\n      </Grid>\n\n      <FormControl variant=\"outlined\" size=\"small\" className=\"select colors\">\n        <InputLabel>Colores</InputLabel>\n        <Select\n          name=\"palette\"\n          value={paletteName}\n          onChange={handleChange}\n          label=\"Esquema de colores\"\n        >\n          {palettes.map(elm => {\n            return <MenuItem\n              key={elm}\n              value={elm}\n              style={{ background: `linear-gradient(217deg, ${theme.palette[elm].dark}, ${theme.palette[elm].primary.main})` }}\n            >\n              {capitalizeTheFirstLetterOfEachWord(elm)}\n            </MenuItem>\n          })}\n        </Select>\n      </FormControl>\n      <FormControl variant=\"outlined\" size=\"small\" className=\"select\">\n        <InputLabel>Tipografía</InputLabel>\n        <Select\n          name=\"font\"\n          value={fontName}\n          onChange={handleChange}\n          label=\"Tipografía\"\n        >\n          {fonts.map(elm => {\n            return <MenuItem\n              key={elm}\n              value={elm}\n              style={{ fontFamily: theme.font[elm] }}\n            >\n              {capitalizeTheFirstLetterOfEachWord(elm)}\n            </MenuItem>\n          })}\n        </Select>\n      </FormControl>\n\n      <Grid item>\n        <SubButton\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => props.goBack()}\n        >volver</SubButton>\n      </Grid>\n    </Container >\n  )\n}\n\nexport default SubNavigation","import styled from \"styled-components\"\n\nimport { Snackbar, Button } from \"@material-ui/core\"\nimport Alert from \"@material-ui/lab/Alert\"\n\nconst Veil = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  background-color: #0000008a;\n  z-index: 1399;\n`\nconst StyledAlert = styled(Alert)`\n  & svg {\n    margin: auto 5px auto 0;\n  }\n  & .MuiAlert-message {\n    font-family: arial;\n  }\n`\n\nfunction SnackbarAlert(props) {\n  return (\n    <>\n      {props.open && <Veil />}\n      <Snackbar\n        anchorOrigin={props.anchorOrigin}\n        open={props.open}\n        onClose={() => props.closeAlert(props.message, props.severity)}\n        style={{ margin: '95px 0' }}\n      >\n        <StyledAlert\n          severity={props.severity}\n          variant=\"filled\"\n          action={props.severity === \"warning\"\n            && <Button\n              color=\"inherit\"\n              size=\"small\"\n              style={{ fontFamily: 'arial' }}\n              onClick={() => {\n                props.category\n                  ? props.deleteProduct(props.i, props.category, props.id)\n                  : props.id\n                    ? props.deleteCategory(props.i, props.id)\n                    : props.deleteMenu()\n              }}\n            >\n              aceptar\n              </Button>}\n        >\n          {props.message}\n        </StyledAlert>\n      </Snackbar>\n    </>\n  )\n}\n\nexport default SnackbarAlert","import { Component, PureComponent } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\"\n\nimport { Typography, Grid, TextField, Button, Divider } from \"@material-ui/core\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\nimport Menu from \"../../../Menu/Menu\"\nimport Category from \"./Category\"\nimport ProductTooltip, { Tooltip } from \"./ProductTooltip\"\nimport ProductForm from \"../shared/ProductForm\"\nimport CategoryForm from \"../shared/CategoryForm\"\nimport SubNavigation from \"../shared/SubNavigation\"\nimport Spinner from \"../../../../shared/Spinner\"\nimport SnackbarAlert from \"../../../../shared/SnackbarAlert\"\n\nimport MenuService from \"../../../../../service/menu.service\"\n\nimport { capitalizeTheFirstLetterOfEachWord, findCategoryIndex, saveChanges } from \"../../../../../utils\"\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: ${props => props.width};\n  margin: ${props => props.margin || \"30px auto 0\"};\n  @media (max-width: 1067px) {\n    width: 100%;\n    align-items: center;\n  }\n`\nexport const MenuForm = styled.form`\n  width: 500px;\n  margin: -17px 80px 0 0;\n  @media (max-width: 1067px) {\n    width: 100%;\n    margin: -17px 0 0;\n  }\n`\nexport const MenuFormFieldContainer = styled(Grid)`\n  padding-left: 50px;\n  @media (max-width: 1067px) {\n    padding: 0 15px;\n  }\n  & input, label {\n    font-family: arial;\n  }\n`\nexport const Title = styled(Typography)`\n  padding: 0 65px;\n  font-weight: 400;\n  @media (max-width: 1067px) {\n    padding-left: 18px;\n  }\n`\nexport const MenuTitleContainer = styled(Grid)`\n  margin: ${props => props.margintop || \"0\"} auto 0;\n  width: 1008px;\n  font-style: ${props => props.fontStyle};\n  @media (max-width: 1067px) {\n    width: 100%;\n    max-width: 548px;\n    justify-content: space-between;\n    align-items: flex-end;\n    flex-wrap: nowrap;\n  }\n`\n\nclass InnerList extends PureComponent {\n  render() {\n    const {\n      category,\n      products,\n      index,\n      showConfirmationMessage,\n      editCategory,\n      openProductForm,\n      showProductTooltip,\n      hideProductTooltip,\n    } = this.props\n\n    return <Category\n      category={category}\n      products={products}\n      index={index}\n      showConfirmationMessage={showConfirmationMessage}\n      editCategory={editCategory}\n      openProductForm={openProductForm}\n      showProductTooltip={showProductTooltip}\n      hideProductTooltip={hideProductTooltip}\n    />\n  }\n}\n\nclass CarteEditor extends Component {\n  static contextType = ThemeContext\n\n  constructor(props) {\n    super()\n\n    this.state = {\n      menu: props.menu,\n      showMenuInput: false,\n      categories: undefined,\n      products: undefined,\n      openModal: false, // edit product form\n      modalProduct: null,\n      productFormKey: 0, // key for the ProductForm component when it's a new product and does not have _id yet\n      showProductTooltip: false, // overview of the product\n      tooltipProduct: undefined,\n      previewMenu: false,\n      alert: {\n        open: false,\n        message: \"\",\n        severity: undefined,\n        vertical: \"bottom\",\n      },\n    }\n    this.menuService = new MenuService()\n  }\n\n  componentDidMount = async () => {\n    try {\n      const categories = (await this.menuService.getCategories()).data.message\n      const products = (await this.menuService.getProducts()).data.message\n      const menuCategories = categories.filter(cat => cat.inMenu === this.props.menu._id)\n      const otherCategories = categories.filter(cat => cat.inMenu !== this.props.menu._id)\n\n      this.setState({ categories: menuCategories, products, otherCategories })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  showAlert = (message, severity, vertical) => {\n    this.setState({\n      alert: {\n        open: true,\n        message,\n        severity,\n        vertical,\n      }\n    })\n  }\n\n  closeAlert = (message, severity) => {\n    this.setState({\n      alert: {\n        ...this.state.alert,\n        open: false,\n        message,\n        severity,\n      }\n    })\n  }\n\n  onDragEnd = async (result) => {\n    const { destination, source, draggableId, type } = result\n    const index = (elm, category) => elm.categories.find(cat => cat.id === category).index\n\n    // 1 - if dropped outside the droppable elements\n    if (!destination || (destination.droppableId === source.droppableId && destination.index === source.index)) return\n\n    // 2 - if dragging a category\n    if (type === 'category') {\n      const newCategories = [...this.state.categories],\n        src = source.index + 1, dest = destination.index + 1\n\n      newCategories.forEach((cat, i, arr) => {\n        (dest > src)\n          ? (dest >= cat.index && cat.index > src) && arr[i].index--\n          : (dest <= cat.index && cat.index < src) && arr[i].index++\n\n        if (cat._id === draggableId) { arr[i].index = dest }\n      })\n\n      this.setState({ categories: newCategories }, () => this.updateDBWithChanges(newCategories))\n    }\n\n    // 3 - if dragging a product inside the same category\n    else if (source.droppableId === destination.droppableId) {\n      const category = source.droppableId\n      // filter products in category\n      const newProducts = this.state.products.filter(prod => {\n        return prod.categories.some(cat => {\n          return cat.id === category\n        })\n      })\n      // change index of category in each product\n      newProducts.forEach((prod, i, arr) => {\n        (destination.index > source.index)\n          ? (destination.index >= index(prod, category) && index(prod, category) > source.index)\n          && arr[i].categories.find(cat => cat.id === category).index--\n          : (destination.index <= index(prod, category) && index(prod, category) < source.index)\n          && arr[i].categories.find(cat => cat.id === category).index++\n\n        if (prod._id === draggableId) { // dragged product\n          arr[i].categories.find(cat => cat.id === category).index = destination.index\n        }\n      })\n      // save changes\n      const products = [...newProducts,\n      ...this.state.products.filter(prod => {\n        return prod.categories.every(cat => {\n          return cat.id !== category\n        })\n      })\n      ]\n      this.setState({ products }, () => this.updateDBWithChanges(null, newProducts))\n    }\n\n    // 4 - if dragging a product to a different category\n    else {\n      // filter source category products\n      const newSourceProducts = this.state.products.filter(prod => {\n        return prod.categories.some(cat => {\n          return cat.id === source.droppableId\n        })\n      })\n      // filter destination category products\n      const newDestinationProducts = this.state.products.filter(prod => {\n        return prod.categories.some(cat => {\n          return cat.id === destination.droppableId\n        })\n      })\n      // change index of source category products affected\n      newSourceProducts.forEach((prod, i, arr) => {\n        (index(prod, source.droppableId) > source.index) && arr[i].categories.find(cat => cat.id === source.droppableId).index--\n        if (prod._id === draggableId) { // change category affected in dragged product\n          arr[i].categories.find(cat => cat.id === source.droppableId).id = destination.droppableId\n          destination.index\n            ? arr[i].categories.find(cat => cat.id === destination.droppableId).index = destination.index\n            : arr[i].categories.find(cat => cat.id === destination.droppableId).index = 1\n        }\n      })\n      // change index of destination category products affected\n      newDestinationProducts.forEach((prod, i, arr) => {\n        (destination.index <= index(prod, destination.droppableId))\n          && arr[i].categories.find(cat => cat.id === destination.droppableId).index++\n      })\n      // save changes\n      const newProducts = [...newDestinationProducts, ...newSourceProducts]\n      const products = [...newProducts,\n      ...this.state.products.filter(prod => {\n        return prod.categories.every(cat => {\n          return (cat.id !== source.droppableId && cat.id !== destination.droppableId)\n        })\n      }),\n      ]\n      this.setState({ products }, () => this.updateDBWithChanges(null, newProducts))\n    }\n  }\n\n  updateDBWithChanges = async (categories, products) => {\n    const alert = await saveChanges(categories, products)\n    alert ? this.setState({ alert }) : this.closeProductForm()\n  }\n\n  showConfirmationMessage = (i, id, category) => {\n    id // id passed => category or product\n      ? this.setState({\n        alert: {\n          open: true,\n          message: `¿Seguro que quieres borrar ${category // category passed => product\n            ? \"el producto?\" // no category passed => category\n            : \"la categoría? También se borrarán los productos que contenga, si es que los hay.\"}`,\n          severity: \"warning\",\n          vertical: \"top\",\n          i,\n          id,\n          category,\n        }\n      }) // no id passed => menu\n      : this.setState({\n        alert: {\n          open: true,\n          message: \"¿Seguro que quieres borrar la carta? También se borrará todo su contenido.\",\n          severity: \"warning\",\n          vertical: \"top\",\n        }\n      })\n  }\n\n  toggleMenuInput = () => {\n    if (!this.state.showMenuInput) {\n      window.addEventListener('mousedown', this.handleClick)\n      window.addEventListener('keypress', this.handleEnter)\n      this.setState({ showMenuInput: true })\n    }\n  }\n\n  handleClick = (e) => {\n    if (e.target.name !== \"name\" && e.target.name !== \"description\") {\n      this.MenuInputSubmit()\n    }\n  }\n\n  handleEnter = (e) => {\n    e.key === \"Enter\" && this.MenuInputSubmit()\n  }\n\n  handleMenuInputChange = (e) => {\n    const { value, name } = e.target\n    this.setState({ menu: { ...this.state.menu, [name]: value } })\n  }\n\n  MenuInputSubmit = () => {\n    if (this.props.otherMenus.some(elm => elm.name.toUpperCase() === this.state.menu.name.toUpperCase())) {\n      window.removeEventListener('mousedown', this.handleClick)\n      window.removeEventListener('keypress', this.handleEnter)\n      this.setState({\n        menu: {\n          ...this.state.menu,\n          name: this.props.menu.name\n        },\n        showMenuInput: false,\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `Ya existe una carta con el nombre ${this.state.menu.name.toUpperCase()}`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else if (this.state.menu.name === \"\") {\n      window.removeEventListener('mousedown', this.handleClick)\n      window.removeEventListener('keypress', this.handleEnter)\n      this.setState({\n        menu: {\n          ...this.state.menu,\n          name: this.props.menu.name\n        },\n        showMenuInput: false,\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"No puedes dejar el nombre de la carta en blanco\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      window.removeEventListener('mousedown', this.handleClick)\n      window.removeEventListener('keypress', this.handleEnter)\n      this.props.editMenu(this.state.menu)\n      this.setState({ showMenuInput: false })\n    }\n  }\n\n  deleteCategory = async (i, id) => {\n    try {\n      const categories = [...this.state.categories]\n      const productsInDeletedCategory = this.state.products.filter(prod => {\n        return prod.categories.some(cat => {\n          return cat.id === categories[i]._id\n        })\n      })\n      const ProductsToUpdate = productsInDeletedCategory.filter(prod => prod.categories.length !== 1)\n      const ProductsToDelete = productsInDeletedCategory.filter(prod => prod.categories.length === 1)\n      const otherProducts = this.state.products.filter(elm => elm.category !== categories[i]._id)\n\n      ProductsToUpdate.forEach(prod => prod.categories.splice(prod.categories.findIndex(cat => cat.id === id), 1))\n      categories.forEach((elm, idx, arr) => {\n        if (elm.index > i) arr[idx].index--\n      })\n      categories.splice(i, 1)\n\n      Promise.all(ProductsToUpdate.map(prod => this.menuService.updateProduct(prod._id, prod)))\n      Promise.all(ProductsToDelete.map(prod => this.menuService.deleteProduct(prod._id)))\n      const deletedCategory = await this.menuService.deleteCategory(id)\n\n      this.setState({\n        categories,\n        products: otherProducts,\n        alert: {\n          open: true,\n          severity: \"success\",\n          message: `La categoría ${deletedCategory.data.name.toUpperCase()} ha sido eliminado de la base de datos`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  editCategory = (category) => {\n    if (category.name === undefined) return\n    const categories = [...this.state.categories].filter(cat => cat._id !== category._id)\n    if (categories.some(cat => cat.name.toUpperCase() === category.name.toUpperCase())) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `La categoría ${category.name.toUpperCase()} ya existe`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else if (category.name === \"\") {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"No puedes dejar el nombre de la categoría en blanco\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      categories.push(category)\n      this.setState({ categories }, () => this.updateDBWithChanges([category]))\n    }\n  }\n\n  addCategory = async (e, category) => {\n    e.preventDefault()\n\n    if (this.state.categories.some(cat => cat.name.toUpperCase() === category.toUpperCase())) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `La categoría ${category.toUpperCase()} ya existe`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else if (!category) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Indica el nombre de la nueva categoría\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      try {\n        const newCategory = await this.menuService.addCategory({ name: category, inMenu: this.props.menu._id })\n        const categories = [...this.state.categories]\n        categories.push(newCategory.data)\n        this.setState({ categories })\n      }\n      catch (error) {\n        this.setState({\n          alert: {\n            open: true,\n            severity: \"error\",\n            message: \"Error de servidor\",\n            vertical: \"bottom\",\n          }\n        })\n      }\n    }\n  }\n\n  deleteProduct = async (idx, category, id) => {\n    try {\n      let message\n      const product = this.state.products.find(elm => elm._id === id)\n      if (product.categories.length === 1 && !product.isMenuProduct) {\n        const deletedProduct = await this.menuService.deleteProduct(id)\n        message = `El producto ${deletedProduct.data.name.toUpperCase()} ha sido eliminado de la base de datos`\n      }\n      else {\n        product.categories.splice(product.categories.findIndex(elm => elm.id === category), 1)\n        const deletedProduct = await this.menuService.updateProduct(id, product)\n        message = `El producto ${deletedProduct.data.name.toUpperCase()} ha sido eliminado de esta carta`\n      }\n      const sameCategoryProducts = this.state.products.filter(prod => {\n        return prod.categories.some(cat => {\n          return cat.id === category\n        }) && prod._id !== id\n      })\n      const otherProducts = this.state.products.filter(prod => {\n        return prod.categories.every(cat => {\n          return cat.id !== category\n        })\n      })\n\n      sameCategoryProducts.forEach((elm, i, arr) => {\n        if (elm.categories.find(cat => cat.id === category).index > idx) {\n          arr[i].categories.find(cat => cat.id === category).index--\n        }\n      })\n\n      this.setState({\n        products: sameCategoryProducts.concat(otherProducts),\n        alert: {\n          open: true,\n          severity: \"success\",\n          message,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  openProductForm = async (product, category) => {\n    if (category) { // if yes it's a new product, if not it's an existing product\n      const index = await findCategoryIndex(category)\n      this.setState({\n        openModal: true,\n        modalProduct: {\n          categories: [{ id: category, index }],\n          allergies: [],\n          minPortions: 1,\n          price: [{\n            subDescription: \"\",\n            subPrice: 0\n          }],\n        },\n        productFormKey: this.state.productFormKey + 1\n      })\n    }\n    else this.setState({ openModal: true, modalProduct: product })\n  }\n\n  submitProductForm = async (e, product) => {\n    e.preventDefault()\n    let products = [...this.state.products]\n\n    // clean last price if no description or price was intorduced\n    if (product.price.length > 1) {\n      const lastPrice = product.price[product.price.length - 1]\n      if (!lastPrice.subDescription || !lastPrice.subPrice) product.price.splice(-1, 1)\n    }\n\n    // if it's an existing product\n    if (product._id) {\n      products = products.filter(prod => prod._id !== product._id)\n      if (products.some(prod => prod.name.toUpperCase() === product.name.toUpperCase())) {\n        this.setState({\n          alert: {\n            open: true,\n            severity: \"error\",\n            message: `El producto ${product.name.toUpperCase()} ya existe`,\n            vertical: \"bottom\",\n          }\n        })\n      }\n      else {\n        products.push(product)\n        this.setState({ products }, () => this.updateDBWithChanges(null, [product]))\n      }\n    }\n    //if it's a new product\n    else {\n      if (this.state.products.some(prod => prod.name.toUpperCase() === product.name.toUpperCase())) {\n        this.setState({\n          alert: {\n            open: true,\n            severity: \"error\",\n            message: `El producto ${product.name.toUpperCase()} ya existe`,\n            vertical: \"bottom\",\n          }\n        })\n      }\n      else {\n        try {\n          const newProduct = await this.menuService.addProduct(product)\n          products.push(newProduct.data)\n          this.setState({ products }, this.closeProductForm())\n        }\n        catch (error) {\n          this.setState({\n            alert: {\n              open: true,\n              severity: \"error\",\n              message: \"Error de servidor\",\n              vertical: \"bottom\",\n            }\n          })\n        }\n      }\n    }\n  }\n\n  closeProductForm = () => {\n    this.setState({ openModal: false, modalProduct: null })\n  }\n\n  showProductTooltip = (product) => {\n    this.setState({ showProductTooltip: true, tooltipProduct: product })\n  }\n\n  hideProductTooltip = () => {\n    this.setState({ showProductTooltip: false })\n  }\n\n  previewMenu = () => {\n    this.setState({ previewMenu: true })\n  }\n\n  closePreview = () => {\n    this.setState({ previewMenu: false })\n  }\n\n  goBack = () => {\n    this.props.deselectMenu()\n  }\n\n  render() {\n    const { palette } = this.context\n\n    return (\n      <>\n        {this.state.categories\n          ? this.state.previewMenu\n            ? <Menu\n              menu={{ ...this.state.menu }}\n              categories={[...this.state.categories]}\n              products={this.state.products.filter(prod => {\n                return prod.categories.some(cat => {\n                  return this.state.categories.some(elm => {\n                    return elm._id === cat.id\n                  })\n                })\n              })}\n              close={this.closePreview}\n            />\n            : <>\n              <MenuTitleContainer container justify=\"flex-start\">\n                {this.state.showMenuInput\n                  ? <MenuForm autoComplete=\"off\">\n                    <MenuFormFieldContainer container justify=\"space-between\" alignItems=\"flex-end\" wrap=\"nowrap\">\n                      <Grid item xs={7} style={{ marginRight: \"24px\" }}>\n                        <TextField\n                          fullWidth\n                          name=\"name\"\n                          label=\"Nombre de la Carta\"\n                          type=\"text\"\n                          autoFocus\n                          value={this.state.menu.name}\n                          onChange={this.handleMenuInputChange}\n                        />\n                      </Grid>\n                      <Grid item>\n                        <Button variant=\"outlined\" color=\"primary\" style={{ fontFamily: \"arial\" }}>guardar</Button>\n                      </Grid>\n                    </MenuFormFieldContainer>\n                    <MenuFormFieldContainer container justify=\"space-between\" alignItems=\"flex-end\">\n                      <Grid item xs={12}>\n                        <TextField\n                          style={{ width: '99%', marginTop: '10px' }}\n                          name=\"description\"\n                          label=\"Descripción\"\n                          type=\"text\"\n                          value={this.state.menu.description}\n                          onChange={this.handleMenuInputChange}\n                        />\n                      </Grid>\n                    </MenuFormFieldContainer>\n                  </MenuForm>\n                  : <Grid item>\n                    <Title variant=\"h5\">\n                      {capitalizeTheFirstLetterOfEachWord(this.props.menu.name)}\n                    </Title>\n                  </Grid>\n                }\n                {!this.state.showMenuInput &&\n                  <Grid item style={{ paddingRight: '10px' }}>\n                    <Grid container wrap=\"nowrap\">\n                      <Button\n                        style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                        onClick={() => this.toggleMenuInput()}\n                        endIcon={<EditIcon />}\n                      ></Button>\n                      <Button\n                        style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                        onClick={() => this.showConfirmationMessage()}\n                        endIcon={<DeleteForeverIcon />}\n                      ></Button>\n                    </Grid>\n                  </Grid>\n                }\n              </MenuTitleContainer>\n              {(!this.state.showMenuInput && this.props.menu.description) &&\n                <MenuTitleContainer container justify=\"flex-start\" fontStyle=\"italic\">\n                  <Title variant=\"h6\">\n                    {this.props.menu.description.slice(0, 1).toUpperCase() + this.props.menu.description.slice(1)}\n                  </Title>\n                </MenuTitleContainer>\n              }\n\n              <SubNavigation goBack={() => this.goBack()} previewMenu={() => this.previewMenu()} />\n\n              <DragDropContext onDragEnd={this.onDragEnd}>\n                <Droppable droppableId=\"menu\" type=\"category\">\n                  {provided => (\n                    <Container width=\"1008px\"\n                      {...provided.droppableProps}\n                      ref={provided.innerRef}\n                    >\n                      {this.state.categories\n                        .sort((a, b) => a.index - b.index)\n                        .map((category, index) => {\n                          const products = this.state.products.filter(prod => {\n                            return prod.categories.some(cat => {\n                              return cat.id === category._id\n                            })\n                          })\n                          return <InnerList\n                            key={category._id}\n                            category={category}\n                            products={products}\n                            index={index}\n                            showConfirmationMessage={(i, id, category) => this.showConfirmationMessage(i, id, category)}\n                            editCategory={(category, i) => this.editCategory(category, i)}\n                            openProductForm={(product, category) => this.openProductForm(product, category)}\n                            showProductTooltip={(product) => this.showProductTooltip(product)}\n                            hideProductTooltip={() => this.hideProductTooltip()}\n                          />\n                        })}\n                      {provided.placeholder}\n                    </Container>\n                  )}\n                </Droppable>\n              </DragDropContext>\n\n              <Container width=\"1008px\" margin=\"0 auto\">\n                <CategoryForm addCategory={(e, category) => this.addCategory(e, category)} />\n              </Container>\n\n              {this.state.showProductTooltip\n                ? <ProductTooltip\n                  menuDescription={this.props.menu.description ? true : false}\n                  product={this.state.tooltipProduct}\n                  key={this.state.tooltipProduct._id}\n                />\n                : this.state.products?.some(prod => {\n                  return prod.categories.some(cat => {\n                    return this.state.categories.some(elm => {\n                      return elm._id === cat.id\n                    })\n                  })\n                })\n                && <Tooltip\n                  menuDescription={this.props.menu.description ? true : false}\n                  palette={palette}\n                  padding=\"20px\"\n                  font=\"arial\"\n                >\n                  <Typography variant=\"h6\">\n                    <i>Pasa el ratón sobre el producto que quieras para ver sus detalles.</i>\n                  </Typography>\n                  <Divider style={{ margin: \"10px -20px 15px -20px\" }} />\n                  <Typography variant=\"subtitle1\">\n                    Usa los botones que hay a la derecha de los nombres de carta, categoría y producto, para <EditIcon\n                      color=\"primary\"\n                      fontSize=\"small\"\n                      style={{ margin: \"0 5px -5px 5px\" }}\n                    />\n                    editar y<DeleteForeverIcon\n                      color=\"primary\"\n                      fontSize=\"small\"\n                      style={{ margin: \"0 5px -5px 5px\" }}\n                    />borrar.\n                  </Typography>\n                </Tooltip>\n              }\n            </>\n          : <Spinner />\n        }\n        {this.state.openModal &&\n          <ProductForm\n            open={this.state.openModal}\n            handleClose={() => this.closeProductForm()}\n            submitForm={(e, product) => this.submitProductForm(e, product)}\n            showAlert={(message, severity, vertical) => this.showAlert(message, severity, vertical)}\n            product={this.state.modalProduct}\n            otherCategories={this.state.otherCategories}\n            otherMenus={this.props.otherMenus}\n            key={this.state.modalProduct?._id ? \"edit\" + this.state.modalProduct._id : this.state.productFormKey}\n          />\n        }\n\n        <SnackbarAlert\n          anchorOrigin={{ vertical: this.state.alert.vertical, horizontal: 'center' }}\n          open={this.state.alert.open}\n          message={this.state.alert.message}\n          severity={this.state.alert.severity}\n          i={this.state.alert.i}\n          id={this.state.alert.id}\n          category={this.state.alert.category}\n          closeAlert={(message, severity) => this.closeAlert(message, severity)}\n          deleteProduct={(i, category, id) => this.deleteProduct(i, category, id)}\n          deleteCategory={(i, id) => this.deleteCategory(i, id)}\n          deleteMenu={() => this.props.deleteMenu(this.state.products)}\n        />\n      </>\n    )\n  }\n}\n\nexport default CarteEditor\n","import { Component } from \"react\"\n\nimport { Draggable } from \"react-beautiful-dnd\"\n\nimport { Typography, Button } from \"@material-ui/core\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\nimport { Container } from \"../CarteEditor/Product\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../../../../utils\"\n\nclass MenuProduct extends Component {\n  static contextType = ThemeContext\n\n  deleteProduct = () => {\n    this.props.removeProduct(this.props.index, this.props.categoryIndex)\n  }\n\n  render() {\n    const { palette } = this.context\n\n    return (\n      <Draggable draggableId={this.props.product.name} index={this.props.index}>\n        {(provided, snapshot) => (\n          <Container\n            palette={palette}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            ref={provided.innerRef}\n            isDragging={snapshot.isDragging}\n          >\n            <Typography variant=\"h6\" noWrap>\n              {capitalizeTheFirstLetterOfEachWord(this.props.product.name)}\n            </Typography>\n            <div style={{ whiteSpace: 'nowrap' }}>\n              <Button\n                style={{ minWidth: '0', padding: '5px 12px 5px 12px', fontFamily: 'arial' }}\n                onClick={this.deleteProduct}\n                color=\"primary\"\n                endIcon={<DeleteForeverIcon />}\n              >quitar</Button>\n              <Button\n                style={{ minWidth: '0', padding: '5px 12px 5px 0', fontFamily: 'arial' }}\n                onClick={() => this.props.openProductForm(this.props.product._id)}\n                color=\"primary\"\n                endIcon={<EditIcon />}\n              />\n            </div>\n          </Container>\n        )}\n      </Draggable>\n    )\n  }\n}\n\nexport default MenuProduct\n","import { useState } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Grid, TextField } from \"@material-ui/core\"\nimport AddBoxIcon from \"@material-ui/icons/AddBox\"\n\nimport CustomButton from \"../../../../shared/CustomButton\"\n\nconst FormContainer = styled(Grid)`\n  margin: 10px 0 5px 5px;\n  & form {\n    transform: scale(0.9);\n  }\n  & .MuiButton-label {\n    font-size: 0.75rem;\n    justify-content: flex-start;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n  & label, input {\n    font-family: arial;\n  }\n`\n\nfunction MenuProductForm(props) {\n  const { addMenuProduct } = props\n  const [name, setName] = useState(\"\")\n  const handleChange = (e) => setName(e.target.value)\n  const submit = (e, name) => {\n    addMenuProduct(e, name)\n    setName(\"\")\n  }\n\n  return (\n    <FormContainer container alignItems=\"center\">\n      <Grid item xs={6}>\n        <form onSubmit={(e) => submit(e, name)} autoComplete=\"off\">\n          <TextField\n            fullWidth\n            autoFocus={false}\n            variant=\"outlined\"\n            size=\"small\"\n            label=\"Nombre\"\n            type=\"text\"\n            value={name}\n            onChange={handleChange}\n          />\n        </form>\n      </Grid>\n      <Grid item xs={6}>\n        <Grid container justify=\"center\">\n          <CustomButton\n            size=\"small\"\n            color=\"primary\"\n            onClick={(e) => submit(e, name)}\n            startIcon={<AddBoxIcon />}\n          >Nuevo producto</CustomButton>\n        </Grid>\n      </Grid>\n    </FormContainer>\n  )\n}\n\nexport default MenuProductForm","import { Component } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Droppable, Draggable } from \"react-beautiful-dnd\"\n\nimport { Button, Grid, Divider, FormControlLabel, Checkbox } from \"@material-ui/core\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\nimport MenuProduct from \"./MenuProduct\"\nimport MenuProductForm from \"./MenuProductForm\"\nimport { CategoryContainer, TitleGrid, Title, TitleInput, ProductList, MenuForm } from \"../CarteEditor/Category\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../../../../utils\"\n\nconst CheckBox = styled(FormControlLabel)`\n  transform: scale(0.9);\n  margin: ${props => props.margin};\n  @media (max-width: 1067px) {\n    margin-left: -11px;\n  }\n  & span {\n    font-family: arial;\n  }\n`\n\nclass MenuCategory extends Component {\n  static contextType = ThemeContext\n\n  constructor(props) {\n    super()\n\n    this.state = {\n      category: props.category,\n      showCategoryInput: false,\n      mobile: window.screen.width > 1067 ? false : true,\n    }\n  }\n\n  componentDidUpdate = (prevProps) => {\n    this.props !== prevProps &&\n      this.setState({ category: this.props.category })\n  }\n\n  toggleInput = () => {\n    if (!this.state.showCategoryInput) {\n      window.addEventListener('mousedown', this.handleClick)\n      window.addEventListener('keypress', this.handleEnter)\n      this.setState({ showCategoryInput: true })\n    }\n  }\n\n  handleClick = (e) => {\n    if (e.target.name !== \"categoryName\" && e.target.name !== \"categoryDescription\") this.inputSubmit()\n  }\n\n  handleEnter = (e) => {\n    e.key === \"Enter\" && this.inputSubmit()\n  }\n\n  handleInputChange = (e) => {\n    const { value, name } = e.target\n    this.setState({ category: { ...this.state.category, [name]: value } })\n  }\n\n  handleCheckboxChange = (e, name) => {\n    const category = { ...this.state.category }\n    category[name] = name === \"determinesPrice\" ? e.target.checked : !e.target.checked\n    this.setState({ category }, () => this.inputSubmit(name))\n  }\n\n  inputSubmit = (checkboxName) => {\n    if (this.state.showCategoryInput) {\n      window.removeEventListener('mousedown', this.handleClick)\n      window.removeEventListener('keypress', this.handleEnter)\n      this.props.editCategory(this.state.category)\n      this.setState({ showCategoryInput: false })\n    }\n    else this.props.editCategory(this.state.category, checkboxName === \"determinesPrice\" ? true : null)\n  }\n\n  componentDidUpdate = (prevProps, prevState) => {\n    if (this.state.showCategoryInput !== prevState.showCategoryInput) {\n      this.props.category.categoryName === prevProps.category.categoryName\n        && this.setState({ category: { ...this.state.category, categoryName: this.props.category.categoryName } })\n    }\n  }\n\n  render() {\n    const { palette } = this.context\n    const {\n      category,\n      index,\n      showConfirmationMessage,\n      removeProduct,\n      addMenuProduct,\n      openProductForm,\n    } = this.props\n\n    return (\n      <>\n        {category.products &&\n          <Draggable draggableId={category._id} index={index}>\n            {provided => (\n              <CategoryContainer palette={palette} {...provided.draggableProps} ref={provided.innerRef}>\n                <TitleGrid\n                  {...provided.dragHandleProps}\n                  container\n                  justify=\"space-between\"\n                  alignItems=\"flex-end\"\n                  wrap=\"nowrap\"\n                >\n                  {this.state.showCategoryInput\n                    ? <MenuForm autoComplete=\"off\">\n                      <Grid container justify=\"space-between\" alignItems=\"flex-end\" wrap=\"nowrap\">\n                        <Grid item xs={7} style={{ marginRight: \"24px\" }}>\n                          <TitleInput\n                            style={{ width: '100%' }}\n                            palette={palette}\n                            name=\"categoryName\"\n                            size=\"small\"\n                            label=\"Categoría\"\n                            type=\"text\"\n                            autoFocus\n                            value={this.state.category.categoryName}\n                            onChange={this.handleInputChange}\n                          />\n                        </Grid>\n                        <Grid item>\n                          <Button variant=\"outlined\" color=\"primary\">guardar</Button>\n                        </Grid>\n                      </Grid>\n                      <TitleInput\n                        style={{ width: '97%', marginBottom: '15px' }}\n                        palette={palette}\n                        name=\"categoryDescription\"\n                        size=\"small\"\n                        label=\"Descripción\"\n                        type=\"text\"\n                        value={this.state.category.categoryDescription}\n                        onChange={this.handleInputChange}\n                      />\n                    </MenuForm>\n                    : <Title palette={palette} variant=\"h5\">\n                      {capitalizeTheFirstLetterOfEachWord(category.categoryName)}\n                    </Title>\n                  }\n                  <Grid item>\n                    {!this.state.showCategoryInput &&\n                      <Grid container wrap=\"nowrap\">\n                        <Button\n                          style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                          onClick={() => this.toggleInput()}\n                          endIcon={<EditIcon />}\n                        ></Button>\n                        <Button\n                          style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                          onClick={() => showConfirmationMessage(index, category.categoryName)}\n                          endIcon={<DeleteForeverIcon />}\n                        ></Button>\n                      </Grid>\n                    }\n                  </Grid>\n                </TitleGrid>\n                {(this.state.category.categoryDescription && !this.state.showCategoryInput) &&\n                  <Title palette={palette} variant=\"h6\" noWrap className=\"cat-description\">\n                    {this.state.category.categoryDescription.slice(0, 1).toUpperCase() + this.state.category.categoryDescription.slice(1)}\n                  </Title>\n                }\n                <CheckBox\n                  margin=\"10px 0 0 -18px\"\n                  label=\"Categoría degustación (sin elección de plato)\"\n                  control={<Checkbox\n                    size=\"small\"\n                    color=\"primary\"\n                    checked={!this.state.category.canSelectProducts}\n                    onChange={(e) => this.handleCheckboxChange(e, \"canSelectProducts\")} />}\n                />\n                <CheckBox\n                  margin=\"0 0 0 -18px\"\n                  label=\"Determina el precio del menú\"\n                  control={<Checkbox\n                    size=\"small\"\n                    color=\"primary\"\n                    checked={this.state.category.determinesPrice}\n                    onChange={(e) => this.handleCheckboxChange(e, \"determinesPrice\")} />}\n                />\n\n\n                <Divider style={{ margin: '12px 0 10px', zIndex: '999' }} />\n\n                <Droppable droppableId={category._id} type=\"product\">\n                  {(provided, snapshot) => (\n                    <ProductList\n                      palette={palette}\n                      ref={provided.innerRef}\n                      {...provided.droppableProps}\n                      isDraggingOver={snapshot.isDraggingOver}\n                    >\n                      {category.products\n                        .map((elm, idx) => (\n                          <MenuProduct\n                            key={elm.name}\n                            product={elm}\n                            index={idx + 1}\n                            categoryIndex={index}\n                            removeProduct={removeProduct}\n                            openProductForm={openProductForm}\n                          />\n                        ))}\n                      {!category.products.length && !snapshot.isDraggingOver\n                        && <Title variant=\"subtitle2\" margin=\"normal\" color=\"primary\" className=\"product-placeholder\">\n                          Aún no has añadido productos a esta categoría.\n                          </Title>\n                      }\n                      {provided.placeholder}\n                    </ProductList>\n                  )}\n                </Droppable>\n\n                <MenuProductForm addMenuProduct={addMenuProduct} index={index} />\n\n              </CategoryContainer>\n            )}\n          </Draggable>\n        }\n      </>\n    )\n  }\n}\n\nexport default MenuCategory\n","import { useContext } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Draggable, Droppable } from \"react-beautiful-dnd\"\n\nimport { Button, Typography, Divider } from \"@material-ui/core\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nimport ThemeContext from \"../../../../../ThemeContext\"\n\nimport { capitalizeTheFirstLetterOfEachWord } from \"../../../../../utils\"\n\nconst ProductList = styled.div`\n  border: 2px solid ${props => props.palette.primary.main};\n  border-radius: 5px;\n  background-color: ${props => props.palette.dark};\n  height: fit-content;\n  overflow-y: scroll;\n  width: 450px;\n  margin: 35px 0 35px 12px;\n  padding: 10px 20px;\n  @media (max-width: 1067px) {\n    width: 548px;\n    margin: 0;\n  }\n`\nconst Product = styled.div`\n  padding: 5px 10px 5px 20px;\n  margin: -5px -20px 0;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  background-color: ${props => (props.isDragging ? props.palette.primary.main : props.palette.dark)};\n`\n\nfunction IsMenuProducts(props) {\n  const { palette } = useContext(ThemeContext)\n\n  return (\n    <ProductList palette={palette}>\n      <Typography variant=\"h6\" gutterBottom={true} style={{ fontFamily: \"arial\" }}>\n        <i>Lista de productos disponibles para menús.</i>\n      </Typography>\n      <Typography variant=\"subtitle1\" style={{ fontFamily: \"arial\" }}>\n        Puedes arrastrar los productos de esta lista para incluirlos en el menú. También puedes editar estos productos o quitarlos de la lista de productos de menú con los botones <EditIcon\n          color=\"primary\"\n          fontSize=\"small\"\n          style={{ margin: \"0 5px -5px 5px\", fontSize: \"1.1rem\" }}\n        /> y <DeleteForeverIcon\n          color=\"primary\"\n          fontSize=\"small\"\n          style={{ margin: \"0 5px -5px 5px\", fontSize: \"1.1rem\" }}\n        />\n      </Typography>\n      <Divider style={{ margin: \"10px -20px 15px -20px\" }} />\n      {!props.isMenuProducts?.length || !props.isMenuProducts\n        ? <Typography variant=\"body2\">\n          Agrega productos a esta lista desde alguna de las cartas, entrando en edición de producto y seleccionando la opción \"DISPONIBLE EN MENÚS\".\n            </Typography>\n        : <Droppable droppableId=\"isMenuProducts\" type=\"product\">\n          {(provided) => (\n            <div\n              ref={provided.innerRef}\n              {...provided.droppableProps}\n            >\n              {props.isMenuProducts.map((elm, index) =>\n                <Draggable draggableId={elm._id} index={index + 1} key={index}>\n                  {(provided, snapshot) => (\n                    <Product\n                      palette={palette}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      ref={provided.innerRef}\n                      isDragging={snapshot.isDragging}\n                    >\n                      <Typography variant=\"h6\" noWrap>\n                        {capitalizeTheFirstLetterOfEachWord(elm.name)}\n                      </Typography>\n                      <div style={{ whiteSpace: 'nowrap' }}>\n                        <Button\n                          style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                          onClick={() => props.openProductForm(elm._id)}\n                          color=\"primary\"\n                          endIcon={<EditIcon />}\n                        />\n                        <Button\n                          style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                          onClick={() => props.deleteProduct(elm._id)}\n                          color=\"primary\"\n                          endIcon={<DeleteForeverIcon />}\n                        ></Button>\n                      </div>\n                    </Product>\n                  )}\n                </Draggable>\n              )}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      }\n    </ProductList>\n  )\n}\n\nexport default IsMenuProducts","import { Component, PureComponent } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\"\n\nimport { Grid, TextField, Button, InputAdornment } from \"@material-ui/core\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nimport Menu from \"../../../Menu/Menu\"\nimport MenuCategory from \"./MenuCategory\"\nimport IsMenuProducts from \"./IsMenuProducts\"\nimport { Container, Title, MenuForm, MenuTitleContainer, MenuFormFieldContainer } from \"../CarteEditor/CarteEditor\"\nimport SubNavigation from \"../shared/SubNavigation\"\nimport SnackbarAlert from \"../../../../shared/SnackbarAlert\"\nimport ProductForm from \"../shared/ProductForm\"\nimport CategoryForm from \"../shared/CategoryForm\"\n\nimport MenuService from \"../../../../../service/menu.service\"\n\nimport { capitalizeTheFirstLetterOfEachWord, filterIsMenuProductInMenu } from \"../../../../../utils\"\n\nconst DroppableContainer = styled(Grid)`\n  @media (max-width: 1067px) {\n    width: -webkit-fill-available;\n  }\n`\nconst PriceContainer = styled.div`\n  width: ${props => props.width};\n  margin: ${props => props.margin};\n  & label {\n    font-family: arial;\n  }\n`\nconst SinglePriceContainer = styled.div`\n  width: ${props => props.width};\n  margin: ${props => props.margin};\n  @media (max-width: 1067px) {\n    margin-left: 18px;\n  }\n`\n\nclass InnerList extends PureComponent {\n  render() {\n    const {\n      category,\n      index,\n      showConfirmationMessage,\n      editCategory,\n      removeProduct,\n      openProductForm,\n      addMenuProduct,\n    } = this.props\n\n    return <MenuCategory\n      category={category}\n      index={index}\n      showConfirmationMessage={showConfirmationMessage}\n      editCategory={editCategory}\n      removeProduct={removeProduct}\n      openProductForm={openProductForm}\n      addMenuProduct={addMenuProduct}\n    />\n  }\n}\n\nclass MenuEditor extends Component {\n\n  constructor(props) {\n    super()\n\n    this.state = {\n      menu: props.menu,\n      showMenuInput: false,\n      otherMenus: undefined,\n      isMenuProducts: undefined,\n      products: undefined,\n      openModal: false,\n      modalProduct: null,\n      previewMenu: false,\n      alert: {\n        open: false,\n        message: \"\",\n        severity: undefined,\n        vertical: \"bottom\",\n      },\n    }\n    this.menuService = new MenuService()\n  }\n\n  componentDidMount = async () => {\n    try {\n      const categories = (await this.menuService.getCategories()).data.message\n      const products = (await this.menuService.getProducts()).data.message\n      const isMenuProducts = filterIsMenuProductInMenu(products.filter(prod => prod.isMenuProduct), this.props.menu)\n      const otherMenus = products.filter(prod => prod.isMenu && prod._id !== this.props.menu._id)\n      this.setState({ otherMenus, isMenuProducts, products, categories })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  onDragEnd = (result) => {\n    const { destination, source, draggableId, type } = result\n\n    // 1 - if dropped outside the droppable elements\n    if (!destination || (destination.droppableId === source.droppableId && destination.index === source.index)) return\n\n    // 2 - if dragging a category\n    if (type === 'category') {\n      const categories = [...this.state.menu.menuContent]\n      const [category] = categories.splice(source.index - 1, 1)\n      categories.splice(destination.index - 1, 0, category)\n      const menu = { ...this.state.menu, menuContent: categories }\n      this.setState({ menu }, () => this.updateDB(menu._id, menu))\n    }\n\n    // 3 - if dragging a product inside the same category\n    else if (source.droppableId === destination.droppableId\n      && destination.droppableId !== \"isMenuProducts\") {\n      const categories = [...this.state.menu.menuContent]\n      const categoryIndex = categories.findIndex(elm => elm._id === source.droppableId)\n      const products = [...categories][categoryIndex].products\n\n      const [product] = products.splice(source.index - 1, 1)\n      products.splice(destination.index - 1, 0, product)\n      categories[categoryIndex].products = products\n      const menu = { ...this.state.menu, menuContent: categories }\n      this.setState({ menu }, () => this.updateDB(menu._id, menu))\n    }\n\n    // 4 - if dragging a product from isMenuProducts\n    else if (source.droppableId === \"isMenuProducts\" && destination.droppableId !== \"isMenuProducts\") {\n      const categories = [...this.state.menu.menuContent]\n      let isMenuProducts = [...this.state.isMenuProducts]\n\n      const destinationIndex = categories.findIndex(elm => elm._id === destination.droppableId)\n\n      const product = this.state.isMenuProducts[source.index - 1]\n      const destinationProducts = [...categories][destinationIndex].products\n      destinationProducts.splice(destination.index - 1, 0, product)\n\n      isMenuProducts.splice(isMenuProducts.findIndex(elm => elm._id === draggableId), 1)\n\n      categories[destinationIndex].products = destinationProducts\n      const menu = { ...this.state.menu, menuContent: categories }\n      this.setState({ menu, isMenuProducts }, () => this.updateDB(menu._id, menu))\n    }\n\n    // 5 - if dragging a product to a different category\n    else if (destination.droppableId !== \"isMenuProducts\") {\n      const categories = [...this.state.menu.menuContent]\n      const sourceIndex = categories.findIndex(elm => elm._id === source.droppableId)\n      const destinationIndex = categories.findIndex(elm => elm._id === destination.droppableId)\n\n      const sourceProducts = [...categories][sourceIndex].products\n      const [product] = sourceProducts.splice(source.index - 1, 1)\n      const destinationProducts = [...categories][destinationIndex].products\n      destinationProducts.splice(destination.index - 1, 0, product)\n\n      categories[sourceIndex].products = sourceProducts\n      categories[destinationIndex].products = destinationProducts\n      const menu = { ...this.state.menu, menuContent: categories }\n      this.setState({ menu }, () => this.updateDB(menu._id, menu))\n    }\n  }\n\n  showAlert = (message, severity, vertical) => {\n    this.setState({\n      alert: {\n        open: true,\n        message,\n        severity,\n        vertical,\n      }\n    })\n  }\n\n  closeAlert = (message, severity) => {\n    this.setState({\n      alert: {\n        ...this.state.alert,\n        open: false,\n        message,\n        severity,\n      }\n    })\n  }\n\n  showConfirmationMessage = (index, name) => {\n    index\n      ? this.setState({\n        alert: {\n          open: true,\n          message: \"¿Seguro que quieres borrar la categoría?\",\n          severity: \"warning\",\n          vertical: \"top\",\n          i: index,\n          id: name,\n        }\n      })\n      : this.setState({\n        alert: {\n          open: true,\n          message: \"¿Seguro que quieres borrar el menú?\",\n          severity: \"warning\",\n          vertical: \"top\",\n        }\n      })\n  }\n\n  toggleMenuInput = () => {\n    if (!this.state.showMenuInput) {\n      window.addEventListener('mousedown', this.handleClick)\n      window.addEventListener('keypress', this.handleEnter)\n      this.setState({ showMenuInput: true })\n    }\n  }\n\n  handleClick = (e) => {\n    if (e.target.name !== \"name\" && e.target.name !== \"description\") this.MenuInputSubmit(e)\n  }\n\n  handleEnter = (e) => {\n    e.key === \"Enter\" && this.MenuInputSubmit()\n  }\n\n  handleMenuInputChange = (e) => {\n    const { value, name } = e.target\n    this.setState({ menu: { ...this.state.menu, [name]: value } })\n  }\n\n  handlePriceChange = (e, index) => {\n    const menu = { ...this.state.menu }\n    const { name, value } = e.target\n    menu.price[index][name] = value\n    this.setState({ menu }, () => this.updateDB(menu._id, menu))\n  }\n\n  MenuInputSubmit = (e) => {\n    if (this.state.otherMenus.some(elm => elm.name.toUpperCase() === this.state.menu.name.toUpperCase())) {\n      window.removeEventListener('mousedown', this.handleClick)\n      window.removeEventListener('keypress', this.handleEnter)\n      this.setState({\n        menu: {\n          ...this.state.menu,\n          name: this.props.menu.name\n        },\n        showMenuInput: false,\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `Ya existe un menú con el nombre ${this.state.menu.name.toUpperCase()}`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else if (this.state.menu.name === \"\") {\n      window.removeEventListener('mousedown', this.handleClick)\n      window.removeEventListener('keypress', this.handleEnter)\n      this.setState({\n        menu: {\n          ...this.state.menu,\n          name: this.props.menu.name\n        },\n        showMenuInput: false,\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"No puedes dejar el nombre del menú en blanco\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      window.removeEventListener('mousedown', this.handleClick)\n      window.removeEventListener('keypress', this.handleEnter)\n      this.props.editMenuProduct(this.state.menu)\n      this.setState({\n        showMenuInput: false,\n        alert: {\n          ...this.state.alert,\n          open: false,\n        }\n      }, () => this.updateDB(this.state.menu._id, this.state.menu))\n    }\n  }\n\n  addCategory = (e, category) => {\n    e.preventDefault()\n\n    if (this.state.menu.menuContent.some(cat => cat.categoryName.toUpperCase() === category.toUpperCase())) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `La categoría ${category.toUpperCase()} ya existe`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else if (!category) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Indica el nombre de la nueva categoría\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      const menu = JSON.parse(JSON.stringify(this.state.menu))\n      menu.menuContent.push({ categoryName: category })\n      this.setState({\n        alert: {\n          ...this.state.alert,\n          open: false,\n        }\n      }, () => this.updateDB(menu._id, menu))\n    }\n  }\n\n  editCategory = (category, determinesPriceChange) => {\n    const prevCategory = this.state.menu.menuContent.find(elm => elm._id === category._id)\n    if (this.state.menu.menuContent.filter(elm => elm._id !== category._id).some(cat =>\n      cat.categoryName.toUpperCase() === category.categoryName.toUpperCase()\n    )) this.setState({\n      alert: {\n        open: true,\n        severity: \"error\",\n        message: `La categoría ${category.categoryName.toUpperCase()} ya existe`,\n        vertical: \"bottom\",\n      }\n    })\n    else if (category.categoryName === \"\") {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"No puedes dejar el nombre de la categoría en blanco\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      const menu = { ...this.state.menu }\n      const categoryIndex = menu.menuContent.findIndex(elm => elm._id === category._id)\n      const priceIndex = menu.price.findIndex(elm => elm.subDescription === prevCategory.categoryName)\n\n      if (category.determinesPrice) {\n        determinesPriceChange\n          ? menu.price.push({ subDescription: category.categoryName, subPrice: 0 })\n          : menu.price[priceIndex].subDescription = category.categoryName\n      }\n      else if (!category.determinesPrice && determinesPriceChange) {\n        menu.price.splice(priceIndex, 1)\n      }\n\n      menu.menuContent.splice(categoryIndex, 1, category)\n      this.setState({\n        alert: {\n          ...this.state.alert,\n          open: false,\n        }\n      }, () => this.updateDB(menu._id, menu))\n    }\n  }\n\n  deleteCategory = (id, index) => {\n    const menu = { ...this.state.menu }\n    menu.menuContent.splice(index - 1, 1)\n    this.setState({\n      alert: {\n        ...this.state.alert,\n        open: false,\n      }\n    }, () => this.updateDB(menu._id, menu))\n  }\n\n  removeProduct = (productIndex, categoryIndex) => {\n    const menu = { ...this.state.menu }\n    let isMenuProducts = [...this.state.isMenuProducts]\n    const product = menu.menuContent[categoryIndex - 1].products[productIndex - 1]\n\n    isMenuProducts.push(product)\n    menu.menuContent[categoryIndex - 1].products.splice(productIndex - 1, 1)\n    this.setState({ isMenuProducts }, () => this.updateDB(menu._id, menu))\n  }\n\n  addMenuProduct = (e, name, categoryIndex) => {\n    e.preventDefault()\n    const menu = { ...this.state.menu }\n    let products = [...this.state.products]\n    const product = {\n      name,\n      isMenuProduct: true,\n      price: [{\n        subDescription: \"\",\n        subPrice: 0\n      }],\n    }\n\n    if (products.some(prod => prod.name.toUpperCase() === product.name.toUpperCase())) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `El producto ${product.name.toUpperCase()} ya existe`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else if (!name) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Indica el nombre del nuevo producto\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      this.menuService.addProduct(product)\n        .then(res => {\n          menu.menuContent[categoryIndex].products.push(res.data)\n          products.push(res.data)\n          this.setState({ menu, products })\n        })\n        .catch(err => this.setState({\n          alert: {\n            open: true,\n            severity: \"error\",\n            message: \"Error de servidor\",\n            vertical: \"bottom\",\n          }\n        }))\n    }\n  }\n\n  updateDB = (id, data) => {\n    this.menuService.updateProduct(id, data)\n      .then(res => this.setState({ menu: res.data }))\n      .catch(() => this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      }))\n  }\n\n  openProductForm = (id) => {\n    const [modalProduct] = this.state.products.filter(elm => elm._id === id)\n    this.setState({ openModal: true, modalProduct })\n  }\n\n  closeProductForm = () => {\n    this.setState({ openModal: false, modalProduct: null })\n  }\n\n  removeProductFromMenus = (index) => {\n    const updatedProduct = { ...this.state.isMenuProducts[index] }\n    const isMenuProducts = [...this.state.isMenuProducts]\n    updatedProduct.isMenuProduct = false\n    isMenuProducts.splice(index, 1)\n    this.setState({ isMenuProducts }, () => this.updateDBWithMenuProduct(updatedProduct._id, updatedProduct))\n  }\n\n  deleteProduct = async (id) => {\n    const isMenuProducts = [...this.state.isMenuProducts].filter(elm => elm._id !== id)\n    const products = [...this.state.products].filter(elm => elm._id !== id)\n    await this.menuService.deleteProduct(id)\n    this.setState({ isMenuProducts, products })\n  }\n\n  submitProductForm = async (e, product) => {\n    e.preventDefault()\n    let products = [...this.state.products]\n    let isMenuProducts = [...this.state.isMenuProducts]\n\n    // clean last price if no description or price was intorduced\n    if (product.price.length > 1) {\n      const lastPrice = product.price[product.price.length - 1]\n      if (!lastPrice.subDescription || !lastPrice.subPrice) product.price.splice(-1, 1)\n    }\n\n    const otherProducts = products.filter(prod => prod._id !== product._id)\n    if (otherProducts.some(prod => prod.name.toUpperCase() === product.name.toUpperCase())) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `El producto ${product.name.toUpperCase()} ya existe`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      products.splice(products.findIndex(elm => elm._id === product._id), 1, product)\n      const index = isMenuProducts.findIndex(elm => elm._id === product._id)\n      index >= 0 && isMenuProducts.splice(index, 1, product)\n      this.setState({ products, isMenuProducts }, () => this.updateDBWithMenuProduct(product._id, product))\n    }\n  }\n\n  updateDBWithMenuProduct = (id, data) => {\n    this.menuService.updateProduct(id, data)\n      .then(() => this.closeProductForm())\n      .catch(() => this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      }))\n  }\n\n  previewMenu = () => {\n    this.setState({ previewMenu: true })\n  }\n\n  closePreview = () => {\n    this.setState({ previewMenu: false })\n  }\n\n  goBack = () => {\n    this.props.deselectMenu()\n  }\n\n  render() {\n\n    return (\n      <>\n        {this.state.previewMenu\n          ? <Menu\n            menu={{ ...this.state.menu }}\n            close={this.closePreview}\n          />\n          : <>\n            <MenuTitleContainer container justify=\"flex-start\">\n              {this.state.showMenuInput\n                ? <MenuForm autoComplete=\"off\">\n                  <MenuFormFieldContainer container justify=\"space-between\" alignItems=\"flex-end\" wrap=\"nowrap\">\n                    <Grid item xs={7} style={{ marginRight: \"24px\" }}>\n                      <TextField\n                        fullWidth\n                        name=\"name\"\n                        label=\"Nombre de la Carta\"\n                        type=\"text\"\n                        autoFocus\n                        value={this.state.menu.name}\n                        onChange={this.handleMenuInputChange}\n                      />\n                    </Grid>\n                    <Grid item>\n                      <Button variant=\"outlined\" color=\"primary\">guardar</Button>\n                    </Grid>\n                  </MenuFormFieldContainer>\n                  <MenuFormFieldContainer container justify=\"space-between\" alignItems=\"flex-end\">\n                    <Grid item xs={12}>\n                      <TextField\n                        style={{ width: '99%', marginTop: '10px' }}\n                        name=\"description\"\n                        label=\"Descripción\"\n                        type=\"text\"\n                        value={this.state.menu.description}\n                        onChange={this.handleMenuInputChange}\n                      />\n                    </Grid>\n                  </MenuFormFieldContainer>\n                </MenuForm>\n                : <Grid item>\n                  <Title variant=\"h5\">\n                    {capitalizeTheFirstLetterOfEachWord(this.state.menu.name)}\n                  </Title>\n                </Grid>\n              }\n              {!this.state.showMenuInput &&\n                <Grid item style={{ paddingRight: '10px' }}>\n                  <Grid container wrap=\"nowrap\">\n                    <Button\n                      style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                      onClick={() => this.toggleMenuInput()}\n                      endIcon={<EditIcon />}\n                    ></Button>\n                    <Button\n                      style={{ minWidth: '0', padding: '5px 12px 5px 0' }}\n                      onClick={() => this.showConfirmationMessage()}\n                      endIcon={<DeleteForeverIcon />}\n                    ></Button>\n                  </Grid>\n                </Grid>\n              }\n            </MenuTitleContainer>\n            <MenuTitleContainer container justify=\"flex-start\" fontStyle=\"italic\">\n              {(!this.state.showMenuInput && this.state.menu.description) &&\n                <Title variant=\"h6\">\n                  {this.props.menu.description.slice(0, 1).toUpperCase() + this.props.menu.description.slice(1)}\n                </Title>\n              }\n            </MenuTitleContainer>\n            {this.state.menu.price.length === 1\n              ? <MenuTitleContainer>\n                <SinglePriceContainer width=\"8em\" margin=\"20px 0 0 63px\">\n                  <TextField\n                    size=\"small\"\n                    variant=\"outlined\"\n                    name=\"subPrice\"\n                    label=\"Precio\"\n                    type=\"number\"\n                    InputProps={{ startAdornment: <InputAdornment position=\"start\">€</InputAdornment> }}\n                    value={this.state.menu.price[0].subPrice}\n                    onChange={(e) => this.handlePriceChange(e, 0)}\n                  />\n                </SinglePriceContainer>\n              </MenuTitleContainer>\n              : this.state.menu.price.map((price, index) => {\n                return index > 0 &&\n                  <MenuTitleContainer key={index} container justify=\"flex-start\" margintop=\"20px\" style={{ alignItems: \"center\" }}>\n                    <PriceContainer width=\"32em\">\n                      <Title variant=\"h6\" noWrap={true}>\n                        {capitalizeTheFirstLetterOfEachWord(price.subDescription)}\n                      </Title>\n                    </PriceContainer>\n                    <PriceContainer width=\"8em\" margin=\"0 14px 0 -30px\">\n                      <TextField\n                        size=\"small\"\n                        variant=\"outlined\"\n                        name=\"subPrice\"\n                        label=\"Precio\"\n                        type=\"number\"\n                        InputProps={{ startAdornment: <InputAdornment position=\"start\">€</InputAdornment> }}\n                        value={price.subPrice}\n                        onChange={(e) => this.handlePriceChange(e, index)}\n                      />\n                    </PriceContainer>\n                  </MenuTitleContainer>\n              })}\n\n            <SubNavigation goBack={() => this.goBack()} previewMenu={() => this.previewMenu()} />\n\n            <DragDropContext onDragEnd={this.onDragEnd}>\n              <Grid container justify=\"center\">\n                <DroppableContainer item>\n                  <Droppable droppableId=\"menu\" type=\"category\">\n                    {provided => (\n                      <Container width=\"548px\" margin=\"30px 0 0\"\n                        {...provided.droppableProps}\n                        ref={provided.innerRef}\n                      >\n                        {this.state.menu.menuContent\n                          .map((elm, index) => {\n                            return <InnerList\n                              key={elm.categoryName}\n                              category={elm}\n                              index={index + 1}\n                              showConfirmationMessage={(category, name) => this.showConfirmationMessage(category, name)}\n                              editCategory={(category, determinesPriceChange) => this.editCategory(category, determinesPriceChange)}\n                              removeProduct={(productIndex, categoryIndex) => this.removeProduct(productIndex, categoryIndex)}\n                              openProductForm={(id) => this.openProductForm(id)}\n                              addMenuProduct={(e, name) => this.addMenuProduct(e, name, index)}\n                            />\n                          })}\n                        {provided.placeholder}\n                      </Container>\n                    )}\n                  </Droppable>\n\n                  <Container width=\"548px\" margin=\"0 auto\">\n                    <CategoryForm addCategory={(e, category) => this.addCategory(e, category)} />\n                  </Container>\n\n                </DroppableContainer>\n\n                <IsMenuProducts\n                  menuDescription={this.state.menu.description ? true : false}\n                  isMenuProducts={this.state.isMenuProducts}\n                  openProductForm={(id) => this.openProductForm(id)}\n                  deleteProduct={(id) => this.deleteProduct(id)}\n                />\n              </Grid>\n            </DragDropContext>\n\n            {this.state.openModal &&\n              <ProductForm\n                open={this.state.openModal}\n                handleClose={() => this.closeProductForm()}\n                submitForm={(e, product) => this.submitProductForm(e, product)}\n                showAlert={(message, severity, vertical) => this.showAlert(message, severity, vertical)}\n                product={this.state.modalProduct}\n                otherCategories={this.state.categories}\n                otherMenus={this.props.otherMenus}\n                key={this.state.modalProduct._id}\n              />\n            }\n\n            <SnackbarAlert\n              anchorOrigin={{ vertical: this.state.alert.vertical, horizontal: 'center' }}\n              open={this.state.alert.open}\n              message={this.state.alert.message}\n              severity={this.state.alert.severity}\n              i={this.state.alert.i}\n              id={this.state.alert.id}\n              closeAlert={(message, severity) => this.closeAlert(message, severity)}\n              deleteMenu={this.props.deleteMenuProduct}\n              deleteCategory={(i, id) => this.deleteCategory(id, i)}\n            />\n          </>\n        }\n      </>\n    )\n  }\n}\n\nexport default MenuEditor\n\n","import { Component } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Typography, Grid, Divider } from \"@material-ui/core\"\n\nimport ThemeContext from \"../../../../ThemeContext\"\nimport MenuForm from \"./MenuForm\"\nimport CarteEditor from \"./CarteEditor/CarteEditor\"\nimport MenuEditor from \"./MenuEditor/MenuEditor\"\nimport CustomButton from \"../../../shared/CustomButton\"\nimport Spinner from \"../../../shared/Spinner\"\nimport SnackbarAlert from \"../../../shared/SnackbarAlert\"\n\nimport MenuService from \"../../../../service/menu.service\"\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 600px;\n  margin: 0 auto -80px;\n  & .arial, input, label {\n    font-family: arial;\n  }\n`\nconst MenusContainer = styled(Grid)`\n  background-color: ${props => props.palette.dark};\n  padding: 24px 10px;\n  margin-top: 30px;\n  border-radius: 9px;\n  @media (max-width: 500px) {\n    margin: 30px -10px 0;\n    padding: 24px 0;\n  }\n`\nconst CustomHr = styled(Divider)`\n  width: 78%;\n  background-color: ${props => props.palette.primary.main};\n  margin: 10px auto 50px;\n`\nconst Button = styled(CustomButton)`\n  height: 62px;\n  width: 100%;\n  min-width: 124px;\n`\n\nclass EditMenu extends Component {\n  static contextType = ThemeContext\n\n  constructor() {\n    super()\n\n    this.state = {\n      menus: undefined,\n      selectedMenu: null,\n      selectedMenuProduct: null,\n      alert: {\n        open: false,\n        message: \"\",\n        severity: undefined,\n        vertical: \"bottom\",\n      },\n    }\n    this.menuService = new MenuService()\n  }\n\n  componentDidMount = async () => {\n    try {\n      const menus = (await this.menuService.getMenus()).data.message\n      const menuProducts = (await this.menuService.getMenuProducts()).data\n      this.setState({ menus: [...menus, ...menuProducts] })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  closeAlert = (message, severity) => {\n    this.setState({\n      alert: {\n        ...this.state.alert,\n        open: false,\n        message,\n        severity,\n      }\n    })\n  }\n\n  selectMenu = (menu) => {\n    this.props.isMenuSelected(true)\n    menu.isMenu\n      ? this.setState({ selectedMenuProduct: menu })\n      : this.setState({ selectedMenu: menu })\n  }\n\n  deselectMenu = async () => {\n    this.props.isMenuSelected(false)\n    try {\n      const menus = (await this.menuService.getMenus()).data.message\n      const menuProducts = (await this.menuService.getMenuProducts()).data\n      this.setState({ menus: [...menus, ...menuProducts], selectedMenu: null, selectedMenuProduct: null })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  addMenu = async (e, menu, isMenu) => {\n    e.preventDefault()\n\n    if (this.state.menus.some(elm => elm.name.toUpperCase() === menu.name.toUpperCase())) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `${isMenu ? \"El menú\" : \"La carta\"} ${menu.name.toUpperCase()} ya existe`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else if (!menu.name) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: `Indica el nombre d${isMenu ? \"el nuevo menú\" : \"e la nueva carta\"}`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    else {\n      try {\n        const newMenu = isMenu\n          ? await this.menuService.addProduct({ ...menu, isMenu, price: [{ subDescription: \"\", subPrice: 0 }], })\n          : await this.menuService.addMenu(menu)\n        const menus = [...this.state.menus, newMenu.data]\n        this.setState({ menus })\n      }\n      catch (error) {\n        this.setState({\n          alert: {\n            open: true,\n            severity: \"error\",\n            message: \"Error de servidor\",\n            vertical: \"bottom\",\n          }\n        })\n      }\n    }\n  }\n\n  editMenu = async (menu) => {\n    try {\n      const updatedMenu = await this.menuService.updateMenu(menu._id, menu)\n      const menus = [...this.state.menus].filter(elm => elm._id !== menu._id).concat(updatedMenu.data)\n      this.setState({ menus, selectedMenu: updatedMenu.data })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  deleteMenu = async (products) => {\n    try {\n      const categories = (await this.menuService.getCategories()).data.message\n      const categoriesInDeletedMenu = categories.filter(cat => cat.inMenu === this.state.selectedMenu._id)\n      Promise.all(categoriesInDeletedMenu.map(cat => this.menuService.deleteCategory(cat._id)))\n\n      const productsInDeletedMenu = products.filter(prod => {\n        return prod.categories.some(cat => categoriesInDeletedMenu.some(elm => {\n          return elm._id === cat.id\n        }))\n      })\n\n      const ProductsToDelete = productsInDeletedMenu.filter(prod => prod.categories.length === 1)\n      const ProductsToUpdate = productsInDeletedMenu.filter(prod => prod.categories.length !== 1)\n      categoriesInDeletedMenu.forEach(elm => {\n        ProductsToUpdate.forEach(prod => {\n          prod.categories.splice(prod.categories.findIndex(cat => cat.id === elm._id), 1)\n        })\n      })\n      Promise.all(ProductsToDelete.map(prod => this.menuService.deleteProduct(prod._id)))\n      Promise.all(ProductsToUpdate.map(prod => this.menuService.updateProduct(prod._id, prod)))\n\n      const deletedMenu = await this.menuService.deleteMenu(this.state.selectedMenu._id, this.state.selectedMenu)\n      const menus = [...this.state.menus].filter(elm => elm._id !== this.state.selectedMenu._id)\n      this.setState({\n        menus,\n        selectedMenu: null,\n        alert: {\n          open: true,\n          severity: \"success\",\n          message: `La carta ${deletedMenu.data.name.toUpperCase()} ha sido eliminado de la base de datos`,\n          vertical: \"bottom\",\n        }\n      })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  editMenuProduct = (menu) => {\n    const menus = [...this.state.menus]\n    menus.splice(this.state.menus.findIndex(elm => elm._id === menu._id), 1, menu)\n    this.setState({ menus, selectedMenuProduct: menu })\n  }\n\n  deleteMenuProduct = () => {\n    this.menuService.deleteProduct(this.state.selectedMenuProduct._id)\n      .then(() => {\n        const menus = this.state.menus.filter(elm => elm._id !== this.state.selectedMenuProduct._id)\n        this.setState({\n          menus,\n          selectedMenuProduct: null,\n          alert: {\n            open: true,\n            severity: \"success\",\n            message: `${this.state.selectedMenuProduct.name.toUpperCase()} ha sido eliminado de la base de datos`,\n            vertical: \"bottom\",\n          }\n        })\n      })\n      .catch(() => this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      }))\n  }\n\n  render() {\n    const { palette } = this.context\n\n    return (\n      <>\n        {this.state.menus\n          ? this.state.selectedMenu\n            ? <CarteEditor\n              menu={this.state.selectedMenu}\n              otherMenus={this.state.menus.filter(elm => (!elm.isMenu && elm._id !== this.state.selectedMenu._id))}\n              deselectMenu={() => this.deselectMenu()}\n              editMenu={(menu) => this.editMenu(menu)}\n              deleteMenu={(products) => this.deleteMenu(products)}\n            />\n            : this.state.selectedMenuProduct\n              ? <MenuEditor\n                menu={this.state.selectedMenuProduct}\n                otherMenus={this.state.menus.filter(elm => !elm.isMenu)}\n                deselectMenu={() => this.deselectMenu()}\n                editMenuProduct={(menu) => this.editMenuProduct(menu)}\n                deleteMenuProduct={() => this.deleteMenuProduct()}\n              />\n              : <Container>\n                <Typography variant=\"h5\" align=\"center\" className=\"arial\">\n                  Cartas y Menús\n                  </Typography>\n                <Typography variant=\"body1\" align=\"center\" className=\"arial\">\n                  Seleciona una carta o menú para acceder al editor.\n                  </Typography>\n                <MenusContainer palette={palette}>\n                  <Grid container>\n                    <Grid item xs={6}>\n                      <Typography variant=\"h6\" align=\"center\" gutterBottom className=\"arial\">\n                        Cartas\n                      </Typography>\n                      <CustomHr palette={palette} />\n                      {this.state.menus\n                        .filter(elm => !elm.isMenu)\n                        .sort((a, b) => a.createdAt - b.createdAt)\n                        .map(elm => {\n                          return <Grid container justify=\"center\" key={elm._id} style={{ padding: \"0 15px 30px\" }}>\n                            <Button onClick={() => this.selectMenu(elm)} variant=\"contained\">\n                              {elm.name}\n                            </Button>\n                          </Grid>\n                        })\n                      }\n                    </Grid>\n                    <Grid item xs={6}>\n                      <Typography variant=\"h6\" align=\"center\" gutterBottom className=\"arial\">\n                        Menús\n                      </Typography>\n                      <CustomHr palette={palette} />\n                      {this.state.menus\n                        .filter(elm => elm.isMenu)\n                        .map(elm => {\n                          return <Grid container justify=\"center\" key={elm._id} style={{ padding: \"0 15px 30px\" }}>\n                            <Button onClick={() => this.selectMenu(elm)} variant=\"contained\">\n                              {elm.name}\n                            </Button>\n                          </Grid>\n                        })\n                      }\n                    </Grid>\n                  </Grid>\n                  <Grid container style={{ marginTop: \"30px\" }}>\n                    <Grid item xs={6}>\n                      <MenuForm\n                        type=\"carta\"\n                        menus={this.state.menus}\n                        addMenu={(e, menu) => this.addMenu(e, menu)}\n                      />\n                    </Grid>\n                    <Grid item xs={6}>\n                      <MenuForm\n                        type=\"menú\"\n                        menus={this.state.menus}\n                        addMenu={(e, menu) => this.addMenu(e, menu, true)}\n                      />\n                    </Grid>\n                  </Grid>\n                </MenusContainer>\n              </Container>\n\n          : <Spinner />\n        }\n        <SnackbarAlert\n          anchorOrigin={{ vertical: this.state.alert.vertical, horizontal: 'center' }}\n          open={this.state.alert.open}\n          message={this.state.alert.message}\n          severity={this.state.alert.severity}\n          closeAlert={(message, severity) => this.closeAlert(message, severity)}\n        />\n      </>\n    )\n  }\n}\n\nexport default EditMenu","import { Typography } from \"@material-ui/core\"\n\nfunction EditUsers(props) {\n  return (\n    <Typography align=\"center\" variant=\"h5\">Página en construcción</Typography>\n  )\n}\n\nexport default EditUsers","import { useContext, useState } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport ThemeContext from \"../../../ThemeContext\"\nimport Navigation from \"../../layout/Navigation\"\nimport Orders from \"./Orders/Orders\"\nimport EditMenu from \"./EditMenu/EditMenu\"\nimport EditUsers from \"./EditUsers/EditUsers\"\n\nexport const Main = styled.main`\n  padding: 100px 30px 80px;\n  background-color: ${props => props.palette.secondary.main};\n  min-height: 100vh;\n  @media (max-width: 1067px) {\n    padding: 100px 10px 80px;\n  }\n`\n\nfunction EditorIndex(props) {\n  const { palette } = useContext(ThemeContext)\n  const [isSelected, isMenuSelected] = useState(false)\n\n  return (\n    <>\n      <Navigation\n        storeUser={props.storeUser}\n        isMenuSelected={isSelected}\n      />\n      <Main palette={palette}>\n        {props.location.pathname === \"/pedidos\"\n          ? <Orders />\n          : props.location.pathname === \"/usuarios\"\n            ? <EditUsers />\n            : <EditMenu isMenuSelected={(isSelected) => isMenuSelected(isSelected)} />\n        }\n      </Main>\n    </>\n  )\n}\n\nexport default EditorIndex","import { Component } from \"react\"\n\nimport { Button, TextField, Typography } from \"@material-ui/core\"\n\nimport styled from \"styled-components\"\n\nimport ThemeContext from \"../../../ThemeContext\"\nimport { Main } from \"../Editor/EditorIndex\"\n\nimport AuthService from \"../../../service/auth.service\"\n\nconst Container = styled.div`\n  margin-top: 10vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst Form = styled.form`\n  padding: 15px;\n  border: 1px solid ${props => props.palette.light};\n  background-color: ${props => props.palette.dark};\n  border-radius: 5px;\n  width: 90%;\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n  & .input {\n    margin-bottom: 20px;\n  }\n  & Button {\n    margin-top: 20px;\n  }\n  & h3, input, label, button {\n    font-family: arial;\n  }\n`\n\nconst Title = styled(Typography)`\n  padding: 8px;\n  margin-bottom: 10px\n`\n\nclass Login extends Component {\n  static contextType = ThemeContext\n\n  constructor(props) {\n    super()\n\n    this.state = {\n      username: '',\n      password: ''\n    }\n    this.authService = new AuthService()\n  }\n\n  handleInputChange = (e) => {\n    const { name, value } = e.target\n    this.setState({ [name]: value })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    this.authService\n      .login(this.state)\n      .then((response) => {\n        this.props.storeUser(response.data)\n        this.props.history.push(\"/\")\n      })\n      .catch((err) => console.error(err))\n  }\n\n  render() {\n    const { palette } = this.context\n\n    return (\n      <Main palette={palette}>\n        <Container>\n          <Form onSubmit={this.handleSubmit} palette={palette}>\n            <Title align=\"center\" component=\"h3\" variant=\"h4\" >\n              Log In\n            </Title>\n            <TextField\n              className=\"input\"\n              id=\"username\"\n              label=\"Nombre de usuario\"\n              type=\"text\"\n              name=\"username\"\n              value={this.state.username}\n              onChange={this.handleInputChange}\n            />\n            <TextField\n              className=\"input\"\n              id=\"password\"\n              label=\"Contraseña\"\n              type=\"password\"\n              name=\"password\"\n              value={this.state.password}\n              onChange={this.handleInputChange}\n            />\n            <Button variant=\"contained\" type=\"submit\" color=\"primary\">Entrar</Button>\n          </Form>\n        </Container>\n      </Main>\n    )\n  }\n}\n\nexport default Login\n","import { useState, useEffect } from \"react\"\nimport { Link, withRouter } from \"react-router-dom\"\n\nimport styled from \"styled-components\"\n\nimport { Typography, Button } from \"@material-ui/core\"\n\n// import logo from \"../../../../assets/logo_example.jpg\"\n\nexport const Container = styled.div`\n  display: ${props => props.display};\n  animation: fadeIn ease 7s;\n  -webkit-animation: fadeIn ease 7s;\n  -moz-animation: fadeIn ease 7s;\n  -o-animation: fadeIn ease 7s;\n  -ms-animation: fadeIn ease 7s;\n  & h4 {\n    padding-inline: 30px;\n  }\n  & img {\n    width: 100%;\n    margin-block: 25px;\n  }\n  & a {\n    text-decoration: none;\n  }\n  @keyframes fadeIn {\n    0% {\n      opacity:0;\n    }\n    100% {\n      opacity:1;\n    }\n  }\n  @-moz-keyframes fadeIn {\n    0% {\n      opacity:0;\n    }\n    100% {\n      opacity:1;\n    }\n  }\n  @-webkit-keyframes fadeIn {\n    0% {\n      opacity:0;\n    }\n    100% {\n      opacity:1;\n    }\n  }\n  @-o-keyframes fadeIn {\n    0% {\n      opacity:0;\n    }\n    100% {\n      opacity:1;\n    }\n  }\n  @-ms-keyframes fadeIn {\n    0% {\n      opacity:0;\n    }\n    100% {\n      opacity:1;\n    }\n  }\n`\nexport const StyledButton = styled(Button)`\n  display: block;\n  margin: 0 auto;\n  max-width: 230px;\n  text-transform: none;\n`\n\nfunction Hello(props) {\n  const [showTitle, setShowTitle] = useState(false)\n  const [showQuestion, setShowQuestion] = useState(false)\n\n  useEffect(() => {\n    const titleTimer = setTimeout(() => setShowTitle(true), 2000)\n    const questionTimer = setTimeout(() => setShowQuestion(true), 4000)\n    return () => {\n      clearTimeout(titleTimer)\n      clearTimeout(questionTimer)\n    }\n  }, [])\n\n  return (\n    <>\n      <Container display={showTitle ? \"block\" : \"none\"}>\n        <Typography variant=\"h2\" align=\"center\">\n          Hola,\n        </Typography>\n        <Typography variant=\"h3\" align=\"center\" gutterBottom>\n          bienvenid@ a\n        </Typography>\n        <Typography variant=\"h1\" align=\"center\">\n          LUIS II\n        </Typography>\n        {/* <img src={logo} /> */}\n      </Container>\n      <Container display={showQuestion ? \"block\" : \"none\"}>\n        <Typography variant=\"h4\" align=\"center\" style={{ margin: \"15px 0 40px\" }}>\n          ¿Te gustaría pedir con tu móvil?\n        </Typography>\n        <StyledButton\n          variant=\"contained\"\n          color=\"primary\"\n          style={{ fontSize: \"2rem\", padding: \"10px 45px\" }}\n          onClick={props.order}\n        >\n          ¡Sí!\n        </StyledButton>\n        <Link to=\"/carta\">\n          <StyledButton style={{ fontSize: \"1.2rem\", margin: \"30px auto 30px\" }}>\n            No, quiero ver la carta y pedir al camarero.\n          </StyledButton>\n        </Link>\n      </Container>\n    </>\n  )\n}\n\nexport default withRouter(Hello)\n","import { useState, useEffect, useRef, useContext } from \"react\"\n\nimport styled from \"styled-components\"\n\nimport ThemeContext from \"../../../../ThemeContext\"\nimport Hello from \"./Hello\"\n\nimport TOPOLOGY from \"vanta/dist/vanta.topology.min\"\n\nconst Container = styled.div`\n  min-height: 100vh;\n  padding-top: 40px;\n`\n\nfunction Intro(props) {\n  const { palette } = useContext(ThemeContext)\n\n  const [vantaEffect, setVantaEffect] = useState(null)\n  const vantaTopology = useRef(null)\n\n  useEffect(() => {\n    if (!vantaEffect) {\n      setVantaEffect(TOPOLOGY({\n        el: vantaTopology.current,\n        mouseControls: true,\n        touchControls: true,\n        gyroControls: false,\n        scale: 1.00,\n        scaleMobile: 1.00,\n        color: palette.primary.main,\n        backgroundColor: palette.dark,\n      }))\n    }\n    return () => {\n      if (vantaEffect) vantaEffect.destroy()\n    }\n  }, [vantaEffect, palette])\n\n  return (\n    <Container ref={vantaTopology}>\n      <Hello order={props.order} />\n    </Container>\n  )\n}\n\nexport default Intro\n","\nfunction index(props) {\n  return (\n    <div>\n      menu pedible\n    </div>\n  )\n}\n\nexport default index","import axios from 'axios'\n\nclass OrderService {\n\n    constructor() {\n        this.api = axios.create({\n            baseURL: process.env.REACT_APP_API_URL + \"/orders/\",\n            withCredentials: true\n        })\n    }\n    getOrder = (table) => this.api.get(`${table}`)\n}\n\nexport default OrderService\n","import { Component } from \"react\"\n\nimport Intro from \"./Intro\"\nimport OrderableMenu from \"./OrderableMenu\"\nimport Spinner from \"../../shared/Spinner\"\n\nimport OrderService from \"../../../service/order.service\"\n\nclass OrderApp extends Component {\n  constructor() {\n    super()\n\n    this.state = {\n      order: null,\n      wantsToOrder: false,\n      alert: {\n        open: false,\n        message: \"\",\n        severity: undefined,\n        vertical: \"bottom\",\n      },\n    }\n    this.orderService = new OrderService()\n  }\n\n  componentDidMount = async () => {\n    try {\n      const order = (await this.orderService.getOrder(this.props.location.search.slice(-3))).data\n      this.setState({ order })\n    }\n    catch (error) {\n      this.setState({\n        alert: {\n          open: true,\n          severity: \"error\",\n          message: \"Error de servidor\",\n          vertical: \"bottom\",\n        }\n      })\n    }\n  }\n\n  orderWithMobile = () => {\n    this.setState({ wantsToOrder: true })\n  }\n\n  render() {\n    const { order, wantsToOrder } = this.state\n    const { orderWithMobile } = this\n\n    return (\n      <>\n        {order\n          ? order.products.length || wantsToOrder\n            ? <OrderableMenu />\n            : <Intro order={orderWithMobile} />\n          : <Spinner />\n        }\n      </>\n    )\n  }\n}\n\nexport default OrderApp","import { Switch, Route, Redirect } from \"react-router-dom\"\n\nimport Login from \"../pages/Login/Login\"\nimport EditorIndex from \"../pages/Editor/EditorIndex\"\nimport OrderApp from \"../pages/OrderApp/OrderApp\"\nimport Menu from \"../pages/Menu/Menu\"\n\nconst Routes = ({ storeUser, loggedUser }) => {\n  return (\n    <Switch>\n      <Route path=\"/login\" render={(props) => <Login storeUser={storeUser} {...props} />} />\n      <Route\n        path=\"/\"\n        exact\n        render={(props) => !loggedUser\n          ? <Redirect to=\"/login\" />\n          : loggedUser.role === \"EDITOR\"\n            ? <EditorIndex storeUser={storeUser} {...props} />\n            : <EditorIndex storeUser={storeUser} {...props} /> // TODO change component to incoming orders or delete if printer is implemented\n        }\n      />\n      <Route\n        path=\"/pedidos\"\n        render={(props) => !loggedUser\n          ? <Redirect to=\"/login\" />\n          : loggedUser.role === \"EDITOR\"\n            ? <EditorIndex storeUser={storeUser} {...props} />\n            : <Redirect to=\"/\" />}\n      />\n      <Route path=\"/pedir\" render={(props) => <OrderApp {...props} />} />\n      <Route path=\"/carta\" render={(props) => <Menu {...props} />} />\n      <Route\n        path=\"/usuarios\"\n        render={(props) => !loggedUser\n          ? <Redirect to=\"/login\" />\n          : loggedUser?.role === \"EDITOR\"\n            ? <EditorIndex storeUser={storeUser} {...props} />\n            : <Redirect to=\"/\" />}\n      />\n      <Route path=\"/\" render={() => <Redirect to=\"/\" />} />\n    </Switch>\n  )\n}\n\nexport default Routes\n","import { Component } from \"react\"\n\nimport { CssBaseline, ThemeProvider } from \"@material-ui/core\"\nimport { createMuiTheme } from '@material-ui/core/styles'\n\nimport Routes from \"./routes/Routes\"\nimport ThemeContext from \"../ThemeContext\"\n\nimport AuthService from \"../service/auth.service\"\n\nclass App extends Component {\n  static contextType = ThemeContext\n\n  constructor() {\n    super()\n\n    this.state = {\n      loggedUser: null,\n    }\n    this.authService = new AuthService()\n  }\n\n  componentDidMount() {\n    this.fetchUser()\n  }\n\n  fetchUser() {\n    this.authService\n      .isLoggedIn()\n      .then((response) => this.storeUser(response.data))\n      .catch((err) => {\n        this.storeUser(err.loggedUser)\n      })\n  }\n\n  storeUser(loggedUser) {\n    this.setState({ loggedUser })\n  }\n\n  render() {\n    const { palette, font } = this.context\n    const theme = createMuiTheme({\n      palette: {\n        primary: palette.primary,\n        secondary: palette.secondary,\n        type: palette.type,\n      },\n      typography: {\n        fontFamily: font\n      },\n    })\n\n    return (\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        {this.state.loggedUser !== null && (\n          <Routes\n            storeUser={(user) => this.storeUser(user)}\n            loggedUser={this.state.loggedUser}\n          />\n        )}\n      </ThemeProvider>\n    )\n  }\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { BrowserRouter as Router } from \"react-router-dom\"\n\nimport { CustomThemeProvider } from \"./ThemeContext\"\nimport App from \"./components/App\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <CustomThemeProvider>\n        <App />\n      </CustomThemeProvider >\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}